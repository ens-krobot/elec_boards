<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Carte d&#39;asservissement (bi): R√©f√©rence du fichier lm629.h</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- G√©n√©r√© par Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Page&nbsp;principale</span></a></li>
      <li><a href="pages.html"><span>Pages&nbsp;associ√©es</span></a></li>
      <li><a href="classes.html"><span>Structures&nbsp;de&nbsp;donn√©es</span></a></li>
      <li class="current"><a href="files.html"><span>Fichiers</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>R√©f√©rence du fichier lm629.h</h1>G√®re l'interface avec les circuits int√©gr√©s LM629. <a href="#_details">Plus de d√©tails...</a>
<p>
<code>#include &lt;delays.h&gt;</code><br>
<code>#include &quot;<a class="el" href="_generic_type_defs_8h.html">GenericTypeDefs.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="_compiler_8h.html">Compiler.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="_hardware_profile_8h.html">HardwareProfile.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="motor_8h.html">motor.h</a>&quot;</code><br>

<p>
<div class="dynheader">
Graphe des d√©pendances par inclusion de lm629.h:</div>
<div class="dynsection">
<p><center><img src="lm629_8h__incl.png" border="0" usemap="#lm629.h_map" alt=""></center>
<map name="lm629.h_map">
<area shape="rect" href="_generic_type_defs_8h.html" title="GenericTypeDefs.h" alt="" coords="112,83,275,112"><area shape="rect" href="_compiler_8h.html" title="Compiler.h" alt="" coords="233,160,332,189"><area shape="rect" href="_hardware_profile_8h.html" title="D√©finitions sp√©cifiques au PIC utilis√©, pour l&#39;USB et les LEDs notamment." alt="" coords="441,160,593,189"><area shape="rect" href="motor_8h.html" title="G√®re l&#39;interface avec la carte de puissance du moteur." alt="" coords="349,83,424,112"></map>
</div>

<p>
<div class="dynheader">
Ce graphe montre quels fichiers incluent directement ou indirectement ce fichier :</div>
<div class="dynsection">
<p><center><img src="lm629_8h__dep__incl.png" border="0" usemap="#lm629.hdep_map" alt=""></center>
<map name="lm629.hdep_map">
<area shape="rect" href="lm629_8c.html" title="G√®re l&#39;interface avec les circuits int√©gr√©s LM629." alt="" coords="5,83,83,112"><area shape="rect" href="main_8c.html" title="Contient la fonction main() du programme." alt="" coords="107,83,176,112"></map>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Macros</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#ad7e5b6d8f7510a3d9a4bbf7560a5880">LM_CLOCK</a>&nbsp;&nbsp;&nbsp;8e6</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fr√©quence horloge LM (en Hz) -- forc√©ment 6 ou 8 MHz selon la r√©f√©rence du composant.  <a href="#ad7e5b6d8f7510a3d9a4bbf7560a5880"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#4247c7a9cda228f8ccda23206d34235c">ENCODER_RES</a>&nbsp;&nbsp;&nbsp;90</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Impulsions du codeur par tour de roue (prendre en compte le r√©ducteur selon le cas !).  <a href="#4247c7a9cda228f8ccda23206d34235c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#9f1578214c0585f39f4a0fb64d217750">WHEELS_DIAMETER</a>&nbsp;&nbsp;&nbsp;99</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Diam√®tre des roues (en mm).  <a href="#9f1578214c0585f39f4a0fb64d217750"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#7a32722a170545438e63331dec716db9">WHEELS_DIST</a>&nbsp;&nbsp;&nbsp;220</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Distance entre les 2 roues (en mm).  <a href="#7a32722a170545438e63331dec716db9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#0a0faa44632edd1da90cf562ec2f19e6">DEFAULT_KP</a>&nbsp;&nbsp;&nbsp;1000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Param√®tres par d√©fault du correcteur.  <a href="#0a0faa44632edd1da90cf562ec2f19e6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#4567b54152d2a9baae45716e3ab66d7c">DEFAULT_KI</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constante action int√©grale.  <a href="#4567b54152d2a9baae45716e3ab66d7c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#133d0d1f063256087b0f0dde400926a6">DEFAULT_KD</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constante action d√©riv√©e.  <a href="#133d0d1f063256087b0f0dde400926a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#687e26ac0b98cb5b317dc8503c9482e5">DEFAULT_IL</a>&nbsp;&nbsp;&nbsp;10000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Integration Limit -- limite la contribution du terme int√©grateur (doit √™tre non nul si KI est non nul !).  <a href="#687e26ac0b98cb5b317dc8503c9482e5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#e3fd2e7e29e99a5b6b5457acc1c99bec">PS_COMMAND</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Envoyer une commande.  <a href="#e3fd2e7e29e99a5b6b5457acc1c99bec"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#de83aa8327ccb5370aa5b24b1cb48973">PS_DATA</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Envoyer des donn√©es.  <a href="#de83aa8327ccb5370aa5b24b1cb48973"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#bfb497db759edfde127952c40722ddf3">DATA_OUT</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Envoyer des donn√©es vers le LM.  <a href="#bfb497db759edfde127952c40722ddf3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#bebff40b775e10e37faa4ec7b45d6a89">DATA_IN</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Recevoir des donn√©es du LM.  <a href="#bebff40b775e10e37faa4ec7b45d6a89"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#598a3330b3c21701223ee0ca14316eca">PI</a>&nbsp;&nbsp;&nbsp;3.1415926535898</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#bce9e7057cc909ba42902a7f11d7fd98">LM_SAMPLE_TIME</a>&nbsp;&nbsp;&nbsp;(2048.0 / LM_CLOCK)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#d6dd1039b9e339057dfdf6707103e4f1">CONST_POS</a>&nbsp;&nbsp;&nbsp;((PI / 180.0) / 2.0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#0207d3ff367d6998a9cce42e6e537cd0">CONST_VEL</a>&nbsp;&nbsp;&nbsp;(65536.0 * LM_SAMPLE_TIME)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#cb83aa519abc3716d6cfa893d4cff90b">CONST_ACC</a>&nbsp;&nbsp;&nbsp;(65536.0 * LM_SAMPLE_TIME * LM_SAMPLE_TIME)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#f2a4d3b56ba2d2b9acd784a68ff06c5e">COEF_RIGHT_WHEEL</a>&nbsp;&nbsp;&nbsp;(ENCODER_RES * 4.0 / (PI * WHEELS_DIAMETER))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#0f774dfae4bfd44352cfcd445d00f572">COEF_LEFT_WHEEL</a>&nbsp;&nbsp;&nbsp;(ENCODER_RES * 4.0 / (PI * WHEELS_DIAMETER))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#d2c0f212270a2a4cc1d35cb5e5358fa7">LM_CS1</a>&nbsp;&nbsp;&nbsp;PORTDbits.RD6</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#9b922daf8fe163941ff86c04e1e6c9b0">LM_READ</a>&nbsp;&nbsp;&nbsp;PORTDbits.RD7</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#cf5656e8cd94ba58f9efe1fa2e444a5f">LM_RST</a>&nbsp;&nbsp;&nbsp;PORTCbits.RC2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#929000e38340f0ad31f92dd1eccd97ff">LM_CS2</a>&nbsp;&nbsp;&nbsp;PORTBbits.RB4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#ec9c2920a09a95964e4295686d5f6479">LM_PS</a>&nbsp;&nbsp;&nbsp;PORTAbits.RA5</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#fa90442962f2177190392173e693e354">LM_WRITE</a>&nbsp;&nbsp;&nbsp;PORTAbits.RA4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#409b530bd16741bc75f7516c61d6e1b8">LM_D0</a>&nbsp;&nbsp;&nbsp;PORTEbits.RE0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#e0c1457c34f6e542249dffef54296771">LM_D1</a>&nbsp;&nbsp;&nbsp;PORTEbits.RE1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#db58e342f5b0080b1463451671619452">LM_D2</a>&nbsp;&nbsp;&nbsp;PORTEbits.RE2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#f0633c70375e2f6968aa9a8009edeca4">LM_D3</a>&nbsp;&nbsp;&nbsp;PORTDbits.RD4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#4cb00c1f7d95bafa95aae32164ec658d">LM_D4</a>&nbsp;&nbsp;&nbsp;PORTCbits.RC1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#ecd9cbaf0facf83921a39e3f5224459d">LM_D5</a>&nbsp;&nbsp;&nbsp;PORTCbits.RC7</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#14045dd11badb03089fdf89bcecb4e9d">LM_D6</a>&nbsp;&nbsp;&nbsp;PORTCbits.RC0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#e17f35f8b23f07e2f9c827cb7e1c33a0">LM_D7</a>&nbsp;&nbsp;&nbsp;PORTCbits.RC6</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#db2b9b062b4510149371b58af96e53c1">LM_DATA_BUS</a>&nbsp;&nbsp;&nbsp;((LM_D7 &lt;&lt; 7) | (LM_D6 &lt;&lt; 6) | (LM_D5 &lt;&lt; 5) | (LM_D4 &lt;&lt; 4) | (LM_D3 &lt;&lt; 3) | (LM_D2 &lt;&lt; 2) | (LM_D1 &lt;&lt; 1) | LM_D0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#00469936d76c3c07d2599cf7c9360888">LM_CMD_RESET</a>&nbsp;&nbsp;&nbsp;0x00</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize -- Reset LM628.  <a href="#00469936d76c3c07d2599cf7c9360888"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#9d98724714c442b8c2ae44bd4dd3f618">LM_CMD_PORT8</a>&nbsp;&nbsp;&nbsp;0x05</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize -- Select 8-Bit Output.  <a href="#9d98724714c442b8c2ae44bd4dd3f618"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#5ce7def72db8586ef37c9b9f30e8f304">LM_CMD_PORT12</a>&nbsp;&nbsp;&nbsp;0x06</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize -- Select 12-Bit Output.  <a href="#5ce7def72db8586ef37c9b9f30e8f304"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#94eec23916e3cb0c9054dd8f9b92b26f">LM_CMD_DFH</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize -- Define Home.  <a href="#94eec23916e3cb0c9054dd8f9b92b26f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#84e7c8effc76505f73d6fb77ecffe126">LM_CMD_SIP</a>&nbsp;&nbsp;&nbsp;0x03</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interrupt -- Set Index Position.  <a href="#84e7c8effc76505f73d6fb77ecffe126"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#9cec917e8eb1b35604cabc3b8833a882">LM_CMD_LPEI</a>&nbsp;&nbsp;&nbsp;0x1B</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interrupt -- Interrupt on Error.  <a href="#9cec917e8eb1b35604cabc3b8833a882"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#68bd85b25efc21bd323af5a1867ef02b">LM_CMD_LPES</a>&nbsp;&nbsp;&nbsp;0x1A</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interrupt -- Stop on Error.  <a href="#68bd85b25efc21bd323af5a1867ef02b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#26a4cef2a44acc3068a7dc4f6cefc91b">LM_CMD_SBPA</a>&nbsp;&nbsp;&nbsp;0x20</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interrupt -- Set Breakpoint, Absolute.  <a href="#26a4cef2a44acc3068a7dc4f6cefc91b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#c16d1bb1ed4326867b0f6d6e583aeb5c">LM_CMD_SBPR</a>&nbsp;&nbsp;&nbsp;0x21</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interrupt -- Set Breakpoint, Relative.  <a href="#c16d1bb1ed4326867b0f6d6e583aeb5c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#407ae15fa1d1bccf3b4ee5233a47861d">LM_CMD_MSKI</a>&nbsp;&nbsp;&nbsp;0x1C</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interrupt -- Mask Interrupts.  <a href="#407ae15fa1d1bccf3b4ee5233a47861d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#0a34e8c681d4361f7793d18ff1173150">LM_CMD_RSTI</a>&nbsp;&nbsp;&nbsp;0x1D</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interrupt -- Reset Interrupts.  <a href="#0a34e8c681d4361f7793d18ff1173150"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#ee9833005d19f68d50291742f95a6387">LM_CMD_LFIL</a>&nbsp;&nbsp;&nbsp;0x1E</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Filter -- Load Filter Parameters.  <a href="#ee9833005d19f68d50291742f95a6387"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#7fc5d242ddbac5f0945ca93eebaad5cc">LM_CMD_UDF</a>&nbsp;&nbsp;&nbsp;0x04</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Filter -- Update Filter.  <a href="#7fc5d242ddbac5f0945ca93eebaad5cc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#9b3afc89ffd7438464c042e0d0752147">LM_CMD_LTRJ</a>&nbsp;&nbsp;&nbsp;0x1F</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Trajectory -- Load Trajectory.  <a href="#9b3afc89ffd7438464c042e0d0752147"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#56f443b5bde869da30fa77059347be56">LM_CMD_STT</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Trajectory -- Start Motion.  <a href="#56f443b5bde869da30fa77059347be56"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#7728ba93eeade8e3286a4bc8d6fee2dc">LM_CMD_RDSTAT</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Report -- Read Status Byte.  <a href="#7728ba93eeade8e3286a4bc8d6fee2dc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#120dc5196afc4bdebaffe601272fb13c">LM_CMD_RDSIGS</a>&nbsp;&nbsp;&nbsp;0x0C</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Report -- Read Signals Register.  <a href="#120dc5196afc4bdebaffe601272fb13c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#6363e8c0f4d352f70b326b1f65e10050">LM_CMD_RDIP</a>&nbsp;&nbsp;&nbsp;0x09</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Report -- Read Index Position.  <a href="#6363e8c0f4d352f70b326b1f65e10050"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#0c99f4008c38d0ebb78bd135aff1303c">LM_CMD_RDDP</a>&nbsp;&nbsp;&nbsp;0x08</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Report -- Read Desired Position.  <a href="#0c99f4008c38d0ebb78bd135aff1303c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#ff11a5c583c628c600f37c3aae47d181">LM_CMD_RDRP</a>&nbsp;&nbsp;&nbsp;0x0A</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Report -- Read Real Position.  <a href="#ff11a5c583c628c600f37c3aae47d181"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#f5054a10e3e8701624b3e2d38cf26dca">LM_CMD_RDDV</a>&nbsp;&nbsp;&nbsp;0x07</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Report -- Read Desired Velocity.  <a href="#f5054a10e3e8701624b3e2d38cf26dca"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#329c2b3b9e1dbaa20e65a0ee25cc3886">LM_CMD_RDRV</a>&nbsp;&nbsp;&nbsp;0x0B</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Report -- Read Real Velocity.  <a href="#329c2b3b9e1dbaa20e65a0ee25cc3886"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#c4379f4d2a83ca74998f2c9f3c8dd488">LM_CMD_RDSUM</a>&nbsp;&nbsp;&nbsp;0x0D</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Report -- Read Integration Sum.  <a href="#c4379f4d2a83ca74998f2c9f3c8dd488"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#d040c9625454795ba4245f5521dbaa33">LM_BUSY_BIT</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Busy bit.  <a href="#d040c9625454795ba4245f5521dbaa33"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#82baca2a5876592ab43532578564a601">LM_COMMAND_ERROR</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Command Error [Interrupt].  <a href="#82baca2a5876592ab43532578564a601"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#a66aad69eb7c3b5448bbd5025aed187a">LM_TRAJECTORY_COMPLETE</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Trajectory Complete [Interrupt].  <a href="#a66aad69eb7c3b5448bbd5025aed187a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#f7cef48ae625eba691c0ff5d3fe6dd46">LM_INDEX_PULSE</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Index Pulse Observed [Interrupt].  <a href="#f7cef48ae625eba691c0ff5d3fe6dd46"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#174763b102c266abb86decf9bde37c18">LM_WRAP_AROUND</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wraparound Occurred [Interrupt].  <a href="#174763b102c266abb86decf9bde37c18"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#7f032c01af6c13ef1b4c2237498abe5a">LM_POSITION_ERROR</a>&nbsp;&nbsp;&nbsp;32</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Excessive Position Error [Interrupt].  <a href="#7f032c01af6c13ef1b4c2237498abe5a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#2262b091449d594fa1ebe5f704794da1">LM_BREAKPOINT</a>&nbsp;&nbsp;&nbsp;64</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Breakpoint Reached [Interrupt].  <a href="#2262b091449d594fa1ebe5f704794da1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#d86512740662c4075c38599969e2cc8d">LM_MOTOR_OFF</a>&nbsp;&nbsp;&nbsp;128</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Motor Off.  <a href="#d86512740662c4075c38599969e2cc8d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#93cb979336e1f9e4f345c9b01c540da5">LM_LFIL_IL</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#94774d37fd276c4b7d2917b6f7fa8139">LM_LFIL_KD</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#d05122b606acedfd9e4c525b6492c028">LM_LFIL_KI</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#ccf342c05cd12fca5a3fdaa51855b8df">LM_LFIL_KP</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#b0d951dab43f8d113377678b5efa188e">LM_LTRJ_POS_REL</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#1e708cd1e6b100363999b58ec28da9c3">LM_LTRJ_LOAD_POS</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#728aab7f6ee436b4a22b9f30073ed1db">LM_LTRJ_VEL_REL</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#a5b03e6f436b0a0bcd96580066d7d1f3">LM_LTRJ_LOAD_VEL</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#a6973940170ae0bac0eb2f9712c3fe23">LM_LTRJ_ACC_REL</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#a3be3ef647d69aaf3d25d1cf3fcdf614">LM_LTRJ_LOAD_ACC</a>&nbsp;&nbsp;&nbsp;32</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#1f18d097c255274fb73dd70ae6de7a93">LM_LTRJ_MOTOR_OFF</a>&nbsp;&nbsp;&nbsp;256</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#adf2ce3f3e39fab47814f57bd5f394a0">LM_LTRJ_STOP_ABRUPT</a>&nbsp;&nbsp;&nbsp;512</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#129ba2f09e0740800cfe76adce26b6d9">LM_LTRJ_STOP_SMOOTH</a>&nbsp;&nbsp;&nbsp;1024</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#15110b567dd31b5dd11703ff9772df58">LM_LTRJ_VEL_MODE</a>&nbsp;&nbsp;&nbsp;2048</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#c47196e19ad296c963c7ffd1d906b6b9">LM_LTRJ_FORWARD_DIR</a>&nbsp;&nbsp;&nbsp;4096</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#f874d75feeff13d96887c6255c9c10ea">LM_LTRJ_BACKWARD_DIR</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#cf8771cb148de16a0af5369f8288204b">initBoard</a>()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise l'interface entre le PIC et les LM629 puis effectue un RESET des LM629.  <a href="#cf8771cb148de16a0af5369f8288204b"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Fonctions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#6c314f24d23be4191ad86293c9a5fecc">dataBusDirection</a> (char dir)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change la direction du BUS de donn√©e.  <a href="#6c314f24d23be4191ad86293c9a5fecc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#89cbdf56bf6a423f871db85d9b25b7ba">waitBusyLM</a> (char axis)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attends que le ou les LM(s) ne soient plus occup√©s.  <a href="#89cbdf56bf6a423f871db85d9b25b7ba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#6fa7a38bcd0eeb3fb9c107702f73f516">writeCommand</a> (char axis, <a class="el" href="_generic_type_defs_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> command)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Envoie une commande √†/aux LM(s).  <a href="#6fa7a38bcd0eeb3fb9c107702f73f516"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#151178ea603ed04beaa1ba4151496878">writeDataWord</a> (char axis, <a class="el" href="_generic_type_defs_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Envoie un mot au LM (un mot = 2 octets = 16 bits).  <a href="#151178ea603ed04beaa1ba4151496878"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="_generic_type_defs_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#ec750313f79234101e43e09e3083b947">readDataWord</a> (char axis)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lire un mot envoy√© par le LM (un mot = 2 octets = 16 bits).  <a href="#ec750313f79234101e43e09e3083b947"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="_generic_type_defs_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#87c455cfb4cbd87a3de45fd9f38a1b45">readStatus</a> (char axis)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lire l'√©tat d'un LM.  <a href="#87c455cfb4cbd87a3de45fd9f38a1b45"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="_generic_type_defs_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#e3ef6f2f44349bc4e6af34671b6aa4aa">readStatusBit</a> (char axis, <a class="el" href="_generic_type_defs_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> type)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lire un bit d'√©tat du LM.  <a href="#e3ef6f2f44349bc4e6af34671b6aa4aa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#3917d5827bfa6cc17f4e1a47ff073248">resetInterrupt</a> (char axis)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset les bits d'interruption du/des LM(s).  <a href="#3917d5827bfa6cc17f4e1a47ff073248"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#18cecfad364f842e6a71efbd459857df">initLM</a> (char axis, <a class="el" href="_generic_type_defs_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> kp, <a class="el" href="_generic_type_defs_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> ki, <a class="el" href="_generic_type_defs_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> kd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise un LM, c'est-√†-dire :<ul>
<li>Contr√¥le que le RESET s'est fait correctement ;</li><li>Active ou non certaines interruptions ;</li><li>Reset les interruptions ;</li><li>Charge et applique les param√®tres du correcteur. </li></ul>
 <a href="#18cecfad364f842e6a71efbd459857df"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#50cb02e459a813bf1d2d14a80d905a41">newPosition</a> (char axis, <a class="el" href="_generic_type_defs_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a> pos, <a class="el" href="_generic_type_defs_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a> vel, <a class="el" href="_generic_type_defs_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a> acc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Programme une nouvelle position √† atteindre.  <a href="#50cb02e459a813bf1d2d14a80d905a41"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#ecadba62e0d1041ce012f142027c9e8f">newVelocity</a> (char axis, <a class="el" href="_generic_type_defs_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a> vel, <a class="el" href="_generic_type_defs_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a> acc, char dir)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Programme une nouvelle vitesse √† atteindre.  <a href="#ecadba62e0d1041ce012f142027c9e8f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#590732570bf403f7d5b9b9b592430c3d">changeVelocity</a> (char axis, <a class="el" href="_generic_type_defs_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a> vel, char dir)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change la vitesse en court.  <a href="#590732570bf403f7d5b9b9b592430c3d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#adb0186b6cbfbfe2f37d6e5d64284499">start</a> (char axis)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">D√©marre la trajectoire programm√©e.  <a href="#adb0186b6cbfbfe2f37d6e5d64284499"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#8923736db73fa9668b246c31b6bacd70">stop</a> (char axis, <a class="el" href="_generic_type_defs_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> type)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Arr√™te le/les moteur(s).  <a href="#8923736db73fa9668b246c31b6bacd70"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="_generic_type_defs_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#49e97890e5c9ab4f6fca2ba9ce33c885">initLMs</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise les 2 LMs avec les param√®tres par d√©faut.  <a href="#49e97890e5c9ab4f6fca2ba9ce33c885"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#bdba60aec4c9ae15e242fe1824ca4e5b">moveForward</a> (short pos, short vel, short acc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Avance.  <a href="#bdba60aec4c9ae15e242fe1824ca4e5b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#f53f9dcb4f2401d3b013a07e63f8762d">moveBackward</a> (short pos, short vel, short acc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Recule.  <a href="#f53f9dcb4f2401d3b013a07e63f8762d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#f1b311aa12043bf3b42a8739e7026d84">turnRight</a> (short angle, short vel, short acc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tourne vers la droite.  <a href="#f1b311aa12043bf3b42a8739e7026d84"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#f72df7582ddf637a05b2de0e420656bf">turnLeft</a> (short angle, short vel, short acc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tourne vers la gauche.  <a href="#f72df7582ddf637a05b2de0e420656bf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="_generic_type_defs_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#928f6fe98ffaaa8f72282688bcc8d1cd">isTrajComplete</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Indique si la derni√®re trajectoire est termin√©e.  <a href="#928f6fe98ffaaa8f72282688bcc8d1cd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lm629_8h.html#0d4260799cdc0b7d43ff0bce6bc77c2a">waitTrajComplete</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attend la fin de la trajectoire en court.  <a href="#0d4260799cdc0b7d43ff0bce6bc77c2a"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Description d√©taill√©e</h2>
G√®re l'interface avec les circuits int√©gr√©s LM629. 
<p>
<hr><h2>Documentation des macros</h2>
<a class="anchor" name="0f774dfae4bfd44352cfcd445d00f572"></a><!-- doxytag: member="lm629.h::COEF_LEFT_WHEEL" ref="0f774dfae4bfd44352cfcd445d00f572" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COEF_LEFT_WHEEL&nbsp;&nbsp;&nbsp;(ENCODER_RES * 4.0 / (PI * WHEELS_DIAMETER))          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f2a4d3b56ba2d2b9acd784a68ff06c5e"></a><!-- doxytag: member="lm629.h::COEF_RIGHT_WHEEL" ref="f2a4d3b56ba2d2b9acd784a68ff06c5e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COEF_RIGHT_WHEEL&nbsp;&nbsp;&nbsp;(ENCODER_RES * 4.0 / (PI * WHEELS_DIAMETER))          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="cb83aa519abc3716d6cfa893d4cff90b"></a><!-- doxytag: member="lm629.h::CONST_ACC" ref="cb83aa519abc3716d6cfa893d4cff90b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONST_ACC&nbsp;&nbsp;&nbsp;(65536.0 * LM_SAMPLE_TIME * LM_SAMPLE_TIME)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d6dd1039b9e339057dfdf6707103e4f1"></a><!-- doxytag: member="lm629.h::CONST_POS" ref="d6dd1039b9e339057dfdf6707103e4f1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONST_POS&nbsp;&nbsp;&nbsp;((PI / 180.0) / 2.0)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0207d3ff367d6998a9cce42e6e537cd0"></a><!-- doxytag: member="lm629.h::CONST_VEL" ref="0207d3ff367d6998a9cce42e6e537cd0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONST_VEL&nbsp;&nbsp;&nbsp;(65536.0 * LM_SAMPLE_TIME)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="bebff40b775e10e37faa4ec7b45d6a89"></a><!-- doxytag: member="lm629.h::DATA_IN" ref="bebff40b775e10e37faa4ec7b45d6a89" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DATA_IN&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Recevoir des donn√©es du LM. 
<p>

</div>
</div><p>
<a class="anchor" name="bfb497db759edfde127952c40722ddf3"></a><!-- doxytag: member="lm629.h::DATA_OUT" ref="bfb497db759edfde127952c40722ddf3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DATA_OUT&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Envoyer des donn√©es vers le LM. 
<p>

</div>
</div><p>
<a class="anchor" name="687e26ac0b98cb5b317dc8503c9482e5"></a><!-- doxytag: member="lm629.h::DEFAULT_IL" ref="687e26ac0b98cb5b317dc8503c9482e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_IL&nbsp;&nbsp;&nbsp;10000          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Integration Limit -- limite la contribution du terme int√©grateur (doit √™tre non nul si KI est non nul !). 
<p>

</div>
</div><p>
<a class="anchor" name="133d0d1f063256087b0f0dde400926a6"></a><!-- doxytag: member="lm629.h::DEFAULT_KD" ref="133d0d1f063256087b0f0dde400926a6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_KD&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constante action d√©riv√©e. 
<p>

</div>
</div><p>
<a class="anchor" name="4567b54152d2a9baae45716e3ab66d7c"></a><!-- doxytag: member="lm629.h::DEFAULT_KI" ref="4567b54152d2a9baae45716e3ab66d7c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_KI&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constante action int√©grale. 
<p>

</div>
</div><p>
<a class="anchor" name="0a0faa44632edd1da90cf562ec2f19e6"></a><!-- doxytag: member="lm629.h::DEFAULT_KP" ref="0a0faa44632edd1da90cf562ec2f19e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_KP&nbsp;&nbsp;&nbsp;1000          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Param√®tres par d√©fault du correcteur. 
<p>
Pour d√©buter, ne mettre qu'un KP, de faible valeur (5 ou 10) V√©rifier que le syst√®me est stable (pas d'oscillation) On peut alors augmenter le KP et ajuster KI et KD. Constante action proportionnelle 
</div>
</div><p>
<a class="anchor" name="4247c7a9cda228f8ccda23206d34235c"></a><!-- doxytag: member="lm629.h::ENCODER_RES" ref="4247c7a9cda228f8ccda23206d34235c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENCODER_RES&nbsp;&nbsp;&nbsp;90          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Impulsions du codeur par tour de roue (prendre en compte le r√©ducteur selon le cas !). 
<p>

</div>
</div><p>
<a class="anchor" name="cf8771cb148de16a0af5369f8288204b"></a><!-- doxytag: member="lm629.h::initBoard" ref="cf8771cb148de16a0af5369f8288204b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define initBoard          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Valeur :</b><div class="fragment"><pre class="fragment">{                                                                                                                                                                                       \
        <span class="comment">/* Initialisation des PINs */</span>                                                                                                                                                           \
        TRISA&amp;= 0b11001111;             <span class="comment">/* LM_WRITE, LM_PS en sortie */</span>                                                                                                         \
        TRISB&amp;= 0b11101111;             <span class="comment">/* LM_CS2 en sortie */</span>                                                                                                                          \
        TRISC&amp;= 0b11111011;             <span class="comment">/* LM_RST en sortie */</span>                                                                                                                          \
        TRISD&amp;= 0b00111111;             <span class="comment">/* LM_CS1, LM_READ en sortie */</span>                                                                                                         \
        <a class="code" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e.">dataBusDirection</a>(<a class="code" href="lm629_8h.html#bebff40b775e10e37faa4ec7b45d6a89" title="Recevoir des donn√©es du LM.">DATA_IN</a>);                                                                                                                                                                      \
                                                                                                                                                                                                                                \
        <span class="comment">/* Initialisation de l'Ètat des PINs */</span>                                                                                                                                         \
        <a class="code" href="lm629_8h.html#d2c0f212270a2a4cc1d35cb5e5358fa7">LM_CS1</a> = 1;                                                                                                                                                                                                     \
        <a class="code" href="lm629_8h.html#929000e38340f0ad31f92dd1eccd97ff">LM_CS2</a> = 1;                                                                                                                                                                                                     \
        <a class="code" href="lm629_8h.html#cf5656e8cd94ba58f9efe1fa2e444a5f">LM_RST</a> = 1;                                                                                                                                                                                                     \
        <a class="code" href="lm629_8h.html#ec9c2920a09a95964e4295686d5f6479">LM_PS</a> = <a class="code" href="lm629_8h.html#de83aa8327ccb5370aa5b24b1cb48973" title="Envoyer des donn√©es.">PS_DATA</a>;                                                                                                                                                                                        \
        <a class="code" href="lm629_8h.html#9b922daf8fe163941ff86c04e1e6c9b0">LM_READ</a> = 1;                                                                                                                                                                                            \
        <a class="code" href="lm629_8h.html#fa90442962f2177190392173e693e354">LM_WRITE</a> = 1;                                                                                                                                                                                           \
                                                                                                                                                                                                                                \
        <span class="comment">/* Reset hard des LMs */</span>                                                                                                                                                                        \
        <a class="code" href="lm629_8h.html#cf5656e8cd94ba58f9efe1fa2e444a5f">LM_RST</a> = 0;                             <span class="comment">/* doit rester ‡ 0 pendant au moins 8 pÈriodes d'horloge du LM, ‡ 8 MHz = 1 us */</span>       \
        Delay100TCYx(1);                <span class="comment">/* attends 100 cycles, ‡ 48 MHz = 2.08 us */</span>                                                                            \
        <a class="code" href="lm629_8h.html#cf5656e8cd94ba58f9efe1fa2e444a5f">LM_RST</a> = 1;                                                                                                                                                                                                     \
                                                                                                                                                                                                                                \
        <span class="comment">/* Compter 1.5 ms ‡ partir d'ici pour que le RESET soit effectif. */</span>                                                                            \
}
</pre></div>Initialise l'interface entre le PIC et les LM629 puis effectue un RESET des LM629. 
<p>
Cette fonction n'a besoin d'√™tre appel√©e qu'une seule fois (avant la boucle programme principale). Il est suppos√©e qu'il s'√©coule au moins 1.5 ms entre l'appel de cette fonction et toute autre fonction de communication avec les LMs (dur√©e du RESET). 
</div>
</div><p>
<a class="anchor" name="2262b091449d594fa1ebe5f704794da1"></a><!-- doxytag: member="lm629.h::LM_BREAKPOINT" ref="2262b091449d594fa1ebe5f704794da1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_BREAKPOINT&nbsp;&nbsp;&nbsp;64          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Breakpoint Reached [Interrupt]. 
<p>

</div>
</div><p>
<a class="anchor" name="d040c9625454795ba4245f5521dbaa33"></a><!-- doxytag: member="lm629.h::LM_BUSY_BIT" ref="d040c9625454795ba4245f5521dbaa33" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_BUSY_BIT&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Busy bit. 
<p>

</div>
</div><p>
<a class="anchor" name="ad7e5b6d8f7510a3d9a4bbf7560a5880"></a><!-- doxytag: member="lm629.h::LM_CLOCK" ref="ad7e5b6d8f7510a3d9a4bbf7560a5880" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CLOCK&nbsp;&nbsp;&nbsp;8e6          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Fr√©quence horloge LM (en Hz) -- forc√©ment 6 ou 8 MHz selon la r√©f√©rence du composant. 
<p>

</div>
</div><p>
<a class="anchor" name="94eec23916e3cb0c9054dd8f9b92b26f"></a><!-- doxytag: member="lm629.h::LM_CMD_DFH" ref="94eec23916e3cb0c9054dd8f9b92b26f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_DFH&nbsp;&nbsp;&nbsp;0x02          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize -- Define Home. 
<p>

</div>
</div><p>
<a class="anchor" name="ee9833005d19f68d50291742f95a6387"></a><!-- doxytag: member="lm629.h::LM_CMD_LFIL" ref="ee9833005d19f68d50291742f95a6387" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_LFIL&nbsp;&nbsp;&nbsp;0x1E          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Filter -- Load Filter Parameters. 
<p>

</div>
</div><p>
<a class="anchor" name="9cec917e8eb1b35604cabc3b8833a882"></a><!-- doxytag: member="lm629.h::LM_CMD_LPEI" ref="9cec917e8eb1b35604cabc3b8833a882" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_LPEI&nbsp;&nbsp;&nbsp;0x1B          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Interrupt -- Interrupt on Error. 
<p>

</div>
</div><p>
<a class="anchor" name="68bd85b25efc21bd323af5a1867ef02b"></a><!-- doxytag: member="lm629.h::LM_CMD_LPES" ref="68bd85b25efc21bd323af5a1867ef02b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_LPES&nbsp;&nbsp;&nbsp;0x1A          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Interrupt -- Stop on Error. 
<p>

</div>
</div><p>
<a class="anchor" name="9b3afc89ffd7438464c042e0d0752147"></a><!-- doxytag: member="lm629.h::LM_CMD_LTRJ" ref="9b3afc89ffd7438464c042e0d0752147" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_LTRJ&nbsp;&nbsp;&nbsp;0x1F          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Trajectory -- Load Trajectory. 
<p>

</div>
</div><p>
<a class="anchor" name="407ae15fa1d1bccf3b4ee5233a47861d"></a><!-- doxytag: member="lm629.h::LM_CMD_MSKI" ref="407ae15fa1d1bccf3b4ee5233a47861d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_MSKI&nbsp;&nbsp;&nbsp;0x1C          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Interrupt -- Mask Interrupts. 
<p>

</div>
</div><p>
<a class="anchor" name="5ce7def72db8586ef37c9b9f30e8f304"></a><!-- doxytag: member="lm629.h::LM_CMD_PORT12" ref="5ce7def72db8586ef37c9b9f30e8f304" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_PORT12&nbsp;&nbsp;&nbsp;0x06          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize -- Select 12-Bit Output. 
<p>

</div>
</div><p>
<a class="anchor" name="9d98724714c442b8c2ae44bd4dd3f618"></a><!-- doxytag: member="lm629.h::LM_CMD_PORT8" ref="9d98724714c442b8c2ae44bd4dd3f618" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_PORT8&nbsp;&nbsp;&nbsp;0x05          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize -- Select 8-Bit Output. 
<p>

</div>
</div><p>
<a class="anchor" name="0c99f4008c38d0ebb78bd135aff1303c"></a><!-- doxytag: member="lm629.h::LM_CMD_RDDP" ref="0c99f4008c38d0ebb78bd135aff1303c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_RDDP&nbsp;&nbsp;&nbsp;0x08          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Report -- Read Desired Position. 
<p>

</div>
</div><p>
<a class="anchor" name="f5054a10e3e8701624b3e2d38cf26dca"></a><!-- doxytag: member="lm629.h::LM_CMD_RDDV" ref="f5054a10e3e8701624b3e2d38cf26dca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_RDDV&nbsp;&nbsp;&nbsp;0x07          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Report -- Read Desired Velocity. 
<p>

</div>
</div><p>
<a class="anchor" name="6363e8c0f4d352f70b326b1f65e10050"></a><!-- doxytag: member="lm629.h::LM_CMD_RDIP" ref="6363e8c0f4d352f70b326b1f65e10050" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_RDIP&nbsp;&nbsp;&nbsp;0x09          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Report -- Read Index Position. 
<p>

</div>
</div><p>
<a class="anchor" name="ff11a5c583c628c600f37c3aae47d181"></a><!-- doxytag: member="lm629.h::LM_CMD_RDRP" ref="ff11a5c583c628c600f37c3aae47d181" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_RDRP&nbsp;&nbsp;&nbsp;0x0A          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Report -- Read Real Position. 
<p>

</div>
</div><p>
<a class="anchor" name="329c2b3b9e1dbaa20e65a0ee25cc3886"></a><!-- doxytag: member="lm629.h::LM_CMD_RDRV" ref="329c2b3b9e1dbaa20e65a0ee25cc3886" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_RDRV&nbsp;&nbsp;&nbsp;0x0B          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Report -- Read Real Velocity. 
<p>

</div>
</div><p>
<a class="anchor" name="120dc5196afc4bdebaffe601272fb13c"></a><!-- doxytag: member="lm629.h::LM_CMD_RDSIGS" ref="120dc5196afc4bdebaffe601272fb13c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_RDSIGS&nbsp;&nbsp;&nbsp;0x0C          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Report -- Read Signals Register. 
<p>

</div>
</div><p>
<a class="anchor" name="7728ba93eeade8e3286a4bc8d6fee2dc"></a><!-- doxytag: member="lm629.h::LM_CMD_RDSTAT" ref="7728ba93eeade8e3286a4bc8d6fee2dc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_RDSTAT          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Report -- Read Status Byte. 
<p>

</div>
</div><p>
<a class="anchor" name="c4379f4d2a83ca74998f2c9f3c8dd488"></a><!-- doxytag: member="lm629.h::LM_CMD_RDSUM" ref="c4379f4d2a83ca74998f2c9f3c8dd488" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_RDSUM&nbsp;&nbsp;&nbsp;0x0D          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Report -- Read Integration Sum. 
<p>

</div>
</div><p>
<a class="anchor" name="00469936d76c3c07d2599cf7c9360888"></a><!-- doxytag: member="lm629.h::LM_CMD_RESET" ref="00469936d76c3c07d2599cf7c9360888" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_RESET&nbsp;&nbsp;&nbsp;0x00          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize -- Reset LM628. 
<p>

</div>
</div><p>
<a class="anchor" name="0a34e8c681d4361f7793d18ff1173150"></a><!-- doxytag: member="lm629.h::LM_CMD_RSTI" ref="0a34e8c681d4361f7793d18ff1173150" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_RSTI&nbsp;&nbsp;&nbsp;0x1D          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Interrupt -- Reset Interrupts. 
<p>

</div>
</div><p>
<a class="anchor" name="26a4cef2a44acc3068a7dc4f6cefc91b"></a><!-- doxytag: member="lm629.h::LM_CMD_SBPA" ref="26a4cef2a44acc3068a7dc4f6cefc91b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_SBPA&nbsp;&nbsp;&nbsp;0x20          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Interrupt -- Set Breakpoint, Absolute. 
<p>

</div>
</div><p>
<a class="anchor" name="c16d1bb1ed4326867b0f6d6e583aeb5c"></a><!-- doxytag: member="lm629.h::LM_CMD_SBPR" ref="c16d1bb1ed4326867b0f6d6e583aeb5c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_SBPR&nbsp;&nbsp;&nbsp;0x21          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Interrupt -- Set Breakpoint, Relative. 
<p>

</div>
</div><p>
<a class="anchor" name="84e7c8effc76505f73d6fb77ecffe126"></a><!-- doxytag: member="lm629.h::LM_CMD_SIP" ref="84e7c8effc76505f73d6fb77ecffe126" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_SIP&nbsp;&nbsp;&nbsp;0x03          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Interrupt -- Set Index Position. 
<p>

</div>
</div><p>
<a class="anchor" name="56f443b5bde869da30fa77059347be56"></a><!-- doxytag: member="lm629.h::LM_CMD_STT" ref="56f443b5bde869da30fa77059347be56" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_STT&nbsp;&nbsp;&nbsp;0x01          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Trajectory -- Start Motion. 
<p>

</div>
</div><p>
<a class="anchor" name="7fc5d242ddbac5f0945ca93eebaad5cc"></a><!-- doxytag: member="lm629.h::LM_CMD_UDF" ref="7fc5d242ddbac5f0945ca93eebaad5cc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CMD_UDF&nbsp;&nbsp;&nbsp;0x04          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Filter -- Update Filter. 
<p>

</div>
</div><p>
<a class="anchor" name="82baca2a5876592ab43532578564a601"></a><!-- doxytag: member="lm629.h::LM_COMMAND_ERROR" ref="82baca2a5876592ab43532578564a601" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_COMMAND_ERROR&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Command Error [Interrupt]. 
<p>

</div>
</div><p>
<a class="anchor" name="d2c0f212270a2a4cc1d35cb5e5358fa7"></a><!-- doxytag: member="lm629.h::LM_CS1" ref="d2c0f212270a2a4cc1d35cb5e5358fa7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CS1&nbsp;&nbsp;&nbsp;PORTDbits.RD6          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="929000e38340f0ad31f92dd1eccd97ff"></a><!-- doxytag: member="lm629.h::LM_CS2" ref="929000e38340f0ad31f92dd1eccd97ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_CS2&nbsp;&nbsp;&nbsp;PORTBbits.RB4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="409b530bd16741bc75f7516c61d6e1b8"></a><!-- doxytag: member="lm629.h::LM_D0" ref="409b530bd16741bc75f7516c61d6e1b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_D0&nbsp;&nbsp;&nbsp;PORTEbits.RE0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e0c1457c34f6e542249dffef54296771"></a><!-- doxytag: member="lm629.h::LM_D1" ref="e0c1457c34f6e542249dffef54296771" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_D1&nbsp;&nbsp;&nbsp;PORTEbits.RE1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="db58e342f5b0080b1463451671619452"></a><!-- doxytag: member="lm629.h::LM_D2" ref="db58e342f5b0080b1463451671619452" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_D2&nbsp;&nbsp;&nbsp;PORTEbits.RE2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f0633c70375e2f6968aa9a8009edeca4"></a><!-- doxytag: member="lm629.h::LM_D3" ref="f0633c70375e2f6968aa9a8009edeca4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_D3&nbsp;&nbsp;&nbsp;PORTDbits.RD4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="4cb00c1f7d95bafa95aae32164ec658d"></a><!-- doxytag: member="lm629.h::LM_D4" ref="4cb00c1f7d95bafa95aae32164ec658d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_D4&nbsp;&nbsp;&nbsp;PORTCbits.RC1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ecd9cbaf0facf83921a39e3f5224459d"></a><!-- doxytag: member="lm629.h::LM_D5" ref="ecd9cbaf0facf83921a39e3f5224459d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_D5&nbsp;&nbsp;&nbsp;PORTCbits.RC7          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="14045dd11badb03089fdf89bcecb4e9d"></a><!-- doxytag: member="lm629.h::LM_D6" ref="14045dd11badb03089fdf89bcecb4e9d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_D6&nbsp;&nbsp;&nbsp;PORTCbits.RC0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e17f35f8b23f07e2f9c827cb7e1c33a0"></a><!-- doxytag: member="lm629.h::LM_D7" ref="e17f35f8b23f07e2f9c827cb7e1c33a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_D7&nbsp;&nbsp;&nbsp;PORTCbits.RC6          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="db2b9b062b4510149371b58af96e53c1"></a><!-- doxytag: member="lm629.h::LM_DATA_BUS" ref="db2b9b062b4510149371b58af96e53c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_DATA_BUS&nbsp;&nbsp;&nbsp;((LM_D7 &lt;&lt; 7) | (LM_D6 &lt;&lt; 6) | (LM_D5 &lt;&lt; 5) | (LM_D4 &lt;&lt; 4) | (LM_D3 &lt;&lt; 3) | (LM_D2 &lt;&lt; 2) | (LM_D1 &lt;&lt; 1) | LM_D0)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f7cef48ae625eba691c0ff5d3fe6dd46"></a><!-- doxytag: member="lm629.h::LM_INDEX_PULSE" ref="f7cef48ae625eba691c0ff5d3fe6dd46" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_INDEX_PULSE&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Index Pulse Observed [Interrupt]. 
<p>

</div>
</div><p>
<a class="anchor" name="93cb979336e1f9e4f345c9b01c540da5"></a><!-- doxytag: member="lm629.h::LM_LFIL_IL" ref="93cb979336e1f9e4f345c9b01c540da5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_LFIL_IL&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="94774d37fd276c4b7d2917b6f7fa8139"></a><!-- doxytag: member="lm629.h::LM_LFIL_KD" ref="94774d37fd276c4b7d2917b6f7fa8139" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_LFIL_KD&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d05122b606acedfd9e4c525b6492c028"></a><!-- doxytag: member="lm629.h::LM_LFIL_KI" ref="d05122b606acedfd9e4c525b6492c028" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_LFIL_KI&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ccf342c05cd12fca5a3fdaa51855b8df"></a><!-- doxytag: member="lm629.h::LM_LFIL_KP" ref="ccf342c05cd12fca5a3fdaa51855b8df" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_LFIL_KP&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a6973940170ae0bac0eb2f9712c3fe23"></a><!-- doxytag: member="lm629.h::LM_LTRJ_ACC_REL" ref="a6973940170ae0bac0eb2f9712c3fe23" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_LTRJ_ACC_REL&nbsp;&nbsp;&nbsp;16          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f874d75feeff13d96887c6255c9c10ea"></a><!-- doxytag: member="lm629.h::LM_LTRJ_BACKWARD_DIR" ref="f874d75feeff13d96887c6255c9c10ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_LTRJ_BACKWARD_DIR&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c47196e19ad296c963c7ffd1d906b6b9"></a><!-- doxytag: member="lm629.h::LM_LTRJ_FORWARD_DIR" ref="c47196e19ad296c963c7ffd1d906b6b9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_LTRJ_FORWARD_DIR&nbsp;&nbsp;&nbsp;4096          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a3be3ef647d69aaf3d25d1cf3fcdf614"></a><!-- doxytag: member="lm629.h::LM_LTRJ_LOAD_ACC" ref="a3be3ef647d69aaf3d25d1cf3fcdf614" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_LTRJ_LOAD_ACC&nbsp;&nbsp;&nbsp;32          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1e708cd1e6b100363999b58ec28da9c3"></a><!-- doxytag: member="lm629.h::LM_LTRJ_LOAD_POS" ref="1e708cd1e6b100363999b58ec28da9c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_LTRJ_LOAD_POS&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a5b03e6f436b0a0bcd96580066d7d1f3"></a><!-- doxytag: member="lm629.h::LM_LTRJ_LOAD_VEL" ref="a5b03e6f436b0a0bcd96580066d7d1f3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_LTRJ_LOAD_VEL&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1f18d097c255274fb73dd70ae6de7a93"></a><!-- doxytag: member="lm629.h::LM_LTRJ_MOTOR_OFF" ref="1f18d097c255274fb73dd70ae6de7a93" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_LTRJ_MOTOR_OFF&nbsp;&nbsp;&nbsp;256          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b0d951dab43f8d113377678b5efa188e"></a><!-- doxytag: member="lm629.h::LM_LTRJ_POS_REL" ref="b0d951dab43f8d113377678b5efa188e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_LTRJ_POS_REL&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="adf2ce3f3e39fab47814f57bd5f394a0"></a><!-- doxytag: member="lm629.h::LM_LTRJ_STOP_ABRUPT" ref="adf2ce3f3e39fab47814f57bd5f394a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_LTRJ_STOP_ABRUPT&nbsp;&nbsp;&nbsp;512          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="129ba2f09e0740800cfe76adce26b6d9"></a><!-- doxytag: member="lm629.h::LM_LTRJ_STOP_SMOOTH" ref="129ba2f09e0740800cfe76adce26b6d9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_LTRJ_STOP_SMOOTH&nbsp;&nbsp;&nbsp;1024          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="15110b567dd31b5dd11703ff9772df58"></a><!-- doxytag: member="lm629.h::LM_LTRJ_VEL_MODE" ref="15110b567dd31b5dd11703ff9772df58" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_LTRJ_VEL_MODE&nbsp;&nbsp;&nbsp;2048          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="728aab7f6ee436b4a22b9f30073ed1db"></a><!-- doxytag: member="lm629.h::LM_LTRJ_VEL_REL" ref="728aab7f6ee436b4a22b9f30073ed1db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_LTRJ_VEL_REL&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d86512740662c4075c38599969e2cc8d"></a><!-- doxytag: member="lm629.h::LM_MOTOR_OFF" ref="d86512740662c4075c38599969e2cc8d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_MOTOR_OFF&nbsp;&nbsp;&nbsp;128          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Motor Off. 
<p>

</div>
</div><p>
<a class="anchor" name="7f032c01af6c13ef1b4c2237498abe5a"></a><!-- doxytag: member="lm629.h::LM_POSITION_ERROR" ref="7f032c01af6c13ef1b4c2237498abe5a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_POSITION_ERROR&nbsp;&nbsp;&nbsp;32          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Excessive Position Error [Interrupt]. 
<p>

</div>
</div><p>
<a class="anchor" name="ec9c2920a09a95964e4295686d5f6479"></a><!-- doxytag: member="lm629.h::LM_PS" ref="ec9c2920a09a95964e4295686d5f6479" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_PS&nbsp;&nbsp;&nbsp;PORTAbits.RA5          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9b922daf8fe163941ff86c04e1e6c9b0"></a><!-- doxytag: member="lm629.h::LM_READ" ref="9b922daf8fe163941ff86c04e1e6c9b0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_READ&nbsp;&nbsp;&nbsp;PORTDbits.RD7          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="cf5656e8cd94ba58f9efe1fa2e444a5f"></a><!-- doxytag: member="lm629.h::LM_RST" ref="cf5656e8cd94ba58f9efe1fa2e444a5f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_RST&nbsp;&nbsp;&nbsp;PORTCbits.RC2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="bce9e7057cc909ba42902a7f11d7fd98"></a><!-- doxytag: member="lm629.h::LM_SAMPLE_TIME" ref="bce9e7057cc909ba42902a7f11d7fd98" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_SAMPLE_TIME&nbsp;&nbsp;&nbsp;(2048.0 / LM_CLOCK)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a66aad69eb7c3b5448bbd5025aed187a"></a><!-- doxytag: member="lm629.h::LM_TRAJECTORY_COMPLETE" ref="a66aad69eb7c3b5448bbd5025aed187a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_TRAJECTORY_COMPLETE&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Trajectory Complete [Interrupt]. 
<p>

</div>
</div><p>
<a class="anchor" name="174763b102c266abb86decf9bde37c18"></a><!-- doxytag: member="lm629.h::LM_WRAP_AROUND" ref="174763b102c266abb86decf9bde37c18" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_WRAP_AROUND&nbsp;&nbsp;&nbsp;16          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Wraparound Occurred [Interrupt]. 
<p>

</div>
</div><p>
<a class="anchor" name="fa90442962f2177190392173e693e354"></a><!-- doxytag: member="lm629.h::LM_WRITE" ref="fa90442962f2177190392173e693e354" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LM_WRITE&nbsp;&nbsp;&nbsp;PORTAbits.RA4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="598a3330b3c21701223ee0ca14316eca"></a><!-- doxytag: member="lm629.h::PI" ref="598a3330b3c21701223ee0ca14316eca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PI&nbsp;&nbsp;&nbsp;3.1415926535898          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e3fd2e7e29e99a5b6b5457acc1c99bec"></a><!-- doxytag: member="lm629.h::PS_COMMAND" ref="e3fd2e7e29e99a5b6b5457acc1c99bec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PS_COMMAND&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Envoyer une commande. 
<p>

</div>
</div><p>
<a class="anchor" name="de83aa8327ccb5370aa5b24b1cb48973"></a><!-- doxytag: member="lm629.h::PS_DATA" ref="de83aa8327ccb5370aa5b24b1cb48973" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PS_DATA&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Envoyer des donn√©es. 
<p>

</div>
</div><p>
<a class="anchor" name="9f1578214c0585f39f4a0fb64d217750"></a><!-- doxytag: member="lm629.h::WHEELS_DIAMETER" ref="9f1578214c0585f39f4a0fb64d217750" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WHEELS_DIAMETER&nbsp;&nbsp;&nbsp;99          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Diam√®tre des roues (en mm). 
<p>

</div>
</div><p>
<a class="anchor" name="7a32722a170545438e63331dec716db9"></a><!-- doxytag: member="lm629.h::WHEELS_DIST" ref="7a32722a170545438e63331dec716db9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WHEELS_DIST&nbsp;&nbsp;&nbsp;220          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Distance entre les 2 roues (en mm). 
<p>

</div>
</div><p>
<hr><h2>Documentation des fonctions</h2>
<a class="anchor" name="590732570bf403f7d5b9b9b592430c3d"></a><!-- doxytag: member="lm629.h::changeVelocity" ref="590732570bf403f7d5b9b9b592430c3d" args="(char axis, DWORD vel, char dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void changeVelocity           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>axis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_generic_type_defs_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>vel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>dir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Change la vitesse en court. 
<p>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>axis</em>&nbsp;</td><td>l'axe moteur correspondant au LM √† programmer, peut valoir : <br>
 <a class="el" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a> le moteur de droite uniquement <br>
 <a class="el" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a> le moteur de gauche uniquement <br>
 <a class="el" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a> les 2 moteurs</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vel</em>&nbsp;</td><td>vitesse, sur 16 bits </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dir</em>&nbsp;</td><td>sens de rotation, peut valoir : <br>
 <a class="el" href="lm629_8h.html#c47196e19ad296c963c7ffd1d906b6b9">LM_LTRJ_FORWARD_DIR</a> avance <br>
 <a class="el" href="lm629_8h.html#f874d75feeff13d96887c6255c9c10ea">LM_LTRJ_BACKWARD_DIR</a> recule </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><a name="l00485"></a>00485                                                     {
<a name="l00486"></a>00486         <a class="code" href="lm629_8c.html#ecadba62e0d1041ce012f142027c9e8f" title="Programme une nouvelle vitesse √† atteindre.">newVelocity</a>(axis, vel, <a class="code" href="_generic_type_defs_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, dir);
<a name="l00487"></a>00487 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_590732570bf403f7d5b9b9b592430c3d_cgraph.png" border="0" usemap="#lm629_8h_590732570bf403f7d5b9b9b592430c3d_cgraph_map" alt=""></center>
<map name="lm629_8h_590732570bf403f7d5b9b9b592430c3d_cgraph_map">
<area shape="rect" href="lm629_8c.html#ecadba62e0d1041ce012f142027c9e8f" title="Programme une nouvelle vitesse √† atteindre." alt="" coords="188,32,295,61"><area shape="rect" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s)." alt="" coords="345,5,473,35"><area shape="rect" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits)." alt="" coords="344,59,475,88"><area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="680,32,827,61"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="524,32,631,61"></map>
</div>

</div>
</div><p>
<a class="anchor" name="6c314f24d23be4191ad86293c9a5fecc"></a><!-- doxytag: member="lm629.h::dataBusDirection" ref="6c314f24d23be4191ad86293c9a5fecc" args="(char dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dataBusDirection           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>dir</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Change la direction du BUS de donn√©e. 
<p>
Cette fonction est utilis√©e en interne et ne doit pas √™tre appel√©e sinon.<p>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dir</em>&nbsp;</td><td>la direction du BUS, peut valoir : <br>
 <a class="el" href="lm629_8h.html#bfb497db759edfde127952c40722ddf3" title="Envoyer des donn√©es vers le LM.">DATA_OUT</a> transfert du PIC vers le LM <br>
 <a class="el" href="lm629_8h.html#bebff40b775e10e37faa4ec7b45d6a89" title="Recevoir des donn√©es du LM.">DATA_IN</a> transfert du LM vers le PIC </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><a name="l00019"></a>00019                                 {
<a name="l00020"></a>00020         <span class="keywordflow">if</span> (dir == <a class="code" href="lm629_8h.html#bfb497db759edfde127952c40722ddf3" title="Envoyer des donn√©es vers le LM.">DATA_OUT</a>) {
<a name="l00021"></a>00021                 TRISE&amp;= 0b11111000;
<a name="l00022"></a>00022                 TRISC&amp;= 0b00111100;
<a name="l00023"></a>00023                 TRISD&amp;= 0b11101111;
<a name="l00024"></a>00024         }
<a name="l00025"></a>00025         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dir == <a class="code" href="lm629_8h.html#bebff40b775e10e37faa4ec7b45d6a89" title="Recevoir des donn√©es du LM.">DATA_IN</a>) {
<a name="l00026"></a>00026                 TRISE|= 0b00000111;
<a name="l00027"></a>00027                 TRISC|= 0b11000011;
<a name="l00028"></a>00028                 TRISD|= 0b00010000;
<a name="l00029"></a>00029         }
<a name="l00030"></a>00030 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="18cecfad364f842e6a71efbd459857df"></a><!-- doxytag: member="lm629.h::initLM" ref="18cecfad364f842e6a71efbd459857df" args="(char axis, WORD kp, WORD ki, WORD kd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initLM           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>axis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_generic_type_defs_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td>
          <td class="paramname"> <em>kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_generic_type_defs_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td>
          <td class="paramname"> <em>ki</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_generic_type_defs_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td>
          <td class="paramname"> <em>kd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialise un LM, c'est-√†-dire :<ul>
<li>Contr√¥le que le RESET s'est fait correctement ;</li><li>Active ou non certaines interruptions ;</li><li>Reset les interruptions ;</li><li>Charge et applique les param√®tres du correcteur. </li></ul>

<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Cette fonction s'assure que le LM est correctement initialis√©. Si ce n'est pas le cas, le LM est resett√© jusqu'√† ce que son √©tat soit correct. Dans le cas d'un LM d√©faillant, il est possible que cette fonction bloque le programme ind√©finiment, si aucun RESET correct n'est obtenu. <p>
Cette fonction effectue un RESET en envoyant au LM la commande <a class="el" href="lm629_8h.html#00469936d76c3c07d2599cf7c9360888" title="Initialize -- Reset LM628.">LM_CMD_RESET</a>. Elle n'effectue pas de RESET hardware avec <a class="el" href="lm629_8h.html#cf5656e8cd94ba58f9efe1fa2e444a5f">LM_RST</a>, car cela affecterait les 2 LMs simultan√©ment, ce qui invaliderait l'initialisation de l'autre LM ! <p>
Une cause possible du blocage de cette fonction est que l'√©tat de la sortie <a class="el" href="lm629_8h.html#cf5656e8cd94ba58f9efe1fa2e444a5f">LM_RST</a> ait √©t√© alt√©r√© durant l'ex√©cution du programme, emp√™chant le LM de s'initialiser (RESET hardware permanent si <a class="el" href="lm629_8h.html#cf5656e8cd94ba58f9efe1fa2e444a5f">LM_RST</a> est √† 0).</dd></dl>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>axis</em>&nbsp;</td><td>l'axe moteur correspondant au LM √† initialiser, peut valoir : <br>
 <a class="el" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a> le moteur de droite <br>
 <a class="el" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a> le moteur de gauche</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kp</em>&nbsp;</td><td>la constante proportionnelle pour le correcteur, sur 16 bits </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ki</em>&nbsp;</td><td>la constante int√©grale pour le correcteur, sur 16 bits </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kd</em>&nbsp;</td><td>la constante d√©riv√©e pour le correcteur, sur 16 bits </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><a name="l00354"></a>00354                                                   {
<a name="l00355"></a>00355         <span class="comment">// Reset du LM (si n√©cessaire)</span>
<a name="l00356"></a>00356         <span class="keywordflow">while</span> (<a class="code" href="lm629_8c.html#87c455cfb4cbd87a3de45fd9f38a1b45" title="Lire l&amp;#39;√©tat d&amp;#39;un LM.">readStatus</a>(axis) != 0x84 &amp;&amp; <a class="code" href="lm629_8c.html#87c455cfb4cbd87a3de45fd9f38a1b45" title="Lire l&amp;#39;√©tat d&amp;#39;un LM.">readStatus</a>(axis) != 0xC4) {
<a name="l00357"></a>00357 initLM_RESET:
<a name="l00358"></a>00358                 <a class="code" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s).">writeCommand</a>(axis, <a class="code" href="lm629_8h.html#00469936d76c3c07d2599cf7c9360888" title="Initialize -- Reset LM628.">LM_CMD_RESET</a>);       <span class="comment">// attendre au moins 1.5 ms</span>
<a name="l00359"></a>00359                 Delay10KTCYx(2);                                        <span class="comment">// attends 20000 cycles, √† 48 MHz / 4 = 1.67 ms (&gt; 1.5 ms)</span>
<a name="l00360"></a>00360         }
<a name="l00361"></a>00361 
<a name="l00362"></a>00362         <span class="comment">// Activation de certaines interruptions</span>
<a name="l00363"></a>00363         <a class="code" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s).">writeCommand</a>(axis, <a class="code" href="lm629_8h.html#407ae15fa1d1bccf3b4ee5233a47861d" title="Interrupt -- Mask Interrupts.">LM_CMD_MSKI</a>);
<a name="l00364"></a>00364         <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, <a class="code" href="lm629_8h.html#82baca2a5876592ab43532578564a601" title="Command Error [Interrupt].">LM_COMMAND_ERROR</a> | <a class="code" href="lm629_8h.html#f7cef48ae625eba691c0ff5d3fe6dd46" title="Index Pulse Observed [Interrupt].">LM_INDEX_PULSE</a>);
<a name="l00365"></a>00365 
<a name="l00366"></a>00366         <span class="comment">// Reset des interruptions</span>
<a name="l00367"></a>00367         <a class="code" href="lm629_8c.html#3917d5827bfa6cc17f4e1a47ff073248" title="Reset les bits d&amp;#39;interruption du/des LM(s).">resetInterrupt</a>(axis);
<a name="l00368"></a>00368 
<a name="l00369"></a>00369         <span class="keywordflow">if</span> (<a class="code" href="lm629_8c.html#87c455cfb4cbd87a3de45fd9f38a1b45" title="Lire l&amp;#39;√©tat d&amp;#39;un LM.">readStatus</a>(axis) != 0x80 &amp;&amp; <a class="code" href="lm629_8c.html#87c455cfb4cbd87a3de45fd9f38a1b45" title="Lire l&amp;#39;√©tat d&amp;#39;un LM.">readStatus</a>(axis) != 0xC0)
<a name="l00370"></a>00370                 <span class="keywordflow">goto</span> initLM_RESET;
<a name="l00371"></a>00371 
<a name="l00372"></a>00372         <span class="keywordflow">if</span> (<a class="code" href="lm629_8c.html#87c455cfb4cbd87a3de45fd9f38a1b45" title="Lire l&amp;#39;√©tat d&amp;#39;un LM.">readStatus</a>(axis) == 0xC0)
<a name="l00373"></a>00373                 <a class="code" href="lm629_8c.html#3917d5827bfa6cc17f4e1a47ff073248" title="Reset les bits d&amp;#39;interruption du/des LM(s).">resetInterrupt</a>(axis);
<a name="l00374"></a>00374 
<a name="l00375"></a>00375         <span class="comment">// Chargement des param√®tres du filtre</span>
<a name="l00376"></a>00376         <a class="code" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s).">writeCommand</a>(axis, <a class="code" href="lm629_8h.html#ee9833005d19f68d50291742f95a6387" title="Filter -- Load Filter Parameters.">LM_CMD_LFIL</a>);
<a name="l00377"></a>00377         <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, 0x0000 | <a class="code" href="lm629_8h.html#ccf342c05cd12fca5a3fdaa51855b8df">LM_LFIL_KP</a> | <a class="code" href="lm629_8h.html#d05122b606acedfd9e4c525b6492c028">LM_LFIL_KI</a> | <a class="code" href="lm629_8h.html#94774d37fd276c4b7d2917b6f7fa8139">LM_LFIL_KD</a> | <a class="code" href="lm629_8h.html#93cb979336e1f9e4f345c9b01c540da5">LM_LFIL_IL</a>);
<a name="l00378"></a>00378         <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, kp);
<a name="l00379"></a>00379         <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, ki);
<a name="l00380"></a>00380         <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, kd);
<a name="l00381"></a>00381         <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, <a class="code" href="lm629_8h.html#687e26ac0b98cb5b317dc8503c9482e5" title="Integration Limit -- limite la contribution du terme int√©grateur (doit √™tre non...">DEFAULT_IL</a>);
<a name="l00382"></a>00382 
<a name="l00383"></a>00383         <span class="comment">// Application du filtre</span>
<a name="l00384"></a>00384         <a class="code" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s).">writeCommand</a>(axis, <a class="code" href="lm629_8h.html#7fc5d242ddbac5f0945ca93eebaad5cc" title="Filter -- Update Filter.">LM_CMD_UDF</a>);
<a name="l00385"></a>00385 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_18cecfad364f842e6a71efbd459857df_cgraph.png" border="0" usemap="#lm629_8h_18cecfad364f842e6a71efbd459857df_cgraph_map" alt=""></center>
<map name="lm629_8h_18cecfad364f842e6a71efbd459857df_cgraph_map">
<area shape="rect" href="lm629_8c.html#87c455cfb4cbd87a3de45fd9f38a1b45" title="Lire l&#39;√©tat d&#39;un LM." alt="" coords="301,5,400,35"><area shape="rect" href="lm629_8c.html#3917d5827bfa6cc17f4e1a47ff073248" title="Reset les bits d&#39;interruption du/des LM(s)." alt="" coords="119,108,236,137"><area shape="rect" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s)." alt="" coords="287,71,415,100"><area shape="rect" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits)." alt="" coords="285,148,416,177"><area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="621,77,768,107"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="465,51,572,80"></map>
</div>

</div>
</div><p>
<a class="anchor" name="49e97890e5c9ab4f6fca2ba9ce33c885"></a><!-- doxytag: member="lm629.h::initLMs" ref="49e97890e5c9ab4f6fca2ba9ce33c885" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_generic_type_defs_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> initLMs           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialise les 2 LMs avec les param√®tres par d√©faut. 
<p>
Cette fonction doit √™tre appel√©e au moins une fois avant le chargement de la premi√®re trajectoire.<p>
<dl class="return" compact><dt><b>Renvoie:</b></dt><dd>success renvoie <a class="el" href="_generic_type_defs_8h.html#fbf708854fe02af8475a9ba02f3196cba82764c3079aea4e60c80e45befbb839">TRUE</a> en cas de succ√®s et <a class="el" href="_generic_type_defs_8h.html#fbf708854fe02af8475a9ba02f3196cba1e095cc966dbecf6a0d8aad75348d1a">FALSE</a> si une erreur est survenue </dd></dl>
<div class="fragment"><pre class="fragment"><a name="l00393"></a>00393                    {
<a name="l00394"></a>00394         <a class="code" href="lm629_8c.html#18cecfad364f842e6a71efbd459857df" title="Initialise un LM, c&amp;#39;est-√†-dire :Contr√¥le que le RESET s&amp;#39;est fait correctement...">initLM</a>(<a class="code" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a>, <a class="code" href="lm629_8h.html#0a0faa44632edd1da90cf562ec2f19e6" title="Param√®tres par d√©fault du correcteur.">DEFAULT_KP</a>, <a class="code" href="lm629_8h.html#4567b54152d2a9baae45716e3ab66d7c" title="Constante action int√©grale.">DEFAULT_KI</a>, <a class="code" href="lm629_8h.html#133d0d1f063256087b0f0dde400926a6" title="Constante action d√©riv√©e.">DEFAULT_KD</a>);
<a name="l00395"></a>00395         <a class="code" href="lm629_8c.html#18cecfad364f842e6a71efbd459857df" title="Initialise un LM, c&amp;#39;est-√†-dire :Contr√¥le que le RESET s&amp;#39;est fait correctement...">initLM</a>(<a class="code" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a>, <a class="code" href="lm629_8h.html#0a0faa44632edd1da90cf562ec2f19e6" title="Param√®tres par d√©fault du correcteur.">DEFAULT_KP</a>, <a class="code" href="lm629_8h.html#4567b54152d2a9baae45716e3ab66d7c" title="Constante action int√©grale.">DEFAULT_KI</a>, <a class="code" href="lm629_8h.html#133d0d1f063256087b0f0dde400926a6" title="Constante action d√©riv√©e.">DEFAULT_KD</a>);
<a name="l00396"></a>00396 
<a name="l00397"></a>00397         <a class="code" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s).">writeCommand</a>(<a class="code" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a>, <a class="code" href="lm629_8h.html#94eec23916e3cb0c9054dd8f9b92b26f" title="Initialize -- Define Home.">LM_CMD_DFH</a>);
<a name="l00398"></a>00398 
<a name="l00399"></a>00399         <span class="keywordflow">return</span> (!<a class="code" href="lm629_8c.html#e3ef6f2f44349bc4e6af34671b6aa4aa" title="Lire un bit d&amp;#39;√©tat du LM.">readStatusBit</a>(<a class="code" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a>, <a class="code" href="lm629_8h.html#82baca2a5876592ab43532578564a601" title="Command Error [Interrupt].">LM_COMMAND_ERROR</a>) &amp;&amp; !<a class="code" href="lm629_8c.html#e3ef6f2f44349bc4e6af34671b6aa4aa" title="Lire un bit d&amp;#39;√©tat du LM.">readStatusBit</a>(<a class="code" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a>, <a class="code" href="lm629_8h.html#82baca2a5876592ab43532578564a601" title="Command Error [Interrupt].">LM_COMMAND_ERROR</a>));
<a name="l00400"></a>00400 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_49e97890e5c9ab4f6fca2ba9ce33c885_cgraph.png" border="0" usemap="#lm629_8h_49e97890e5c9ab4f6fca2ba9ce33c885_cgraph_map" alt=""></center>
<map name="lm629_8h_49e97890e5c9ab4f6fca2ba9ce33c885_cgraph_map">
<area shape="rect" href="lm629_8c.html#18cecfad364f842e6a71efbd459857df" title="Initialise un LM, c&#39;est&#45;√†&#45;dire :Contr√¥le que le RESET s&#39;est fait correctement..." alt="" coords="153,97,217,127"><area shape="rect" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s)." alt="" coords="463,161,591,191"><area shape="rect" href="lm629_8c.html#e3ef6f2f44349bc4e6af34671b6aa4aa" title="Lire un bit d&#39;√©tat du LM." alt="" coords="127,19,244,48"><area shape="rect" href="lm629_8c.html#87c455cfb4cbd87a3de45fd9f38a1b45" title="Lire l&#39;√©tat d&#39;un LM." alt="" coords="304,5,403,35"><area shape="rect" href="lm629_8c.html#3917d5827bfa6cc17f4e1a47ff073248" title="Reset les bits d&#39;interruption du/des LM(s)." alt="" coords="295,109,412,139"><area shape="rect" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits)." alt="" coords="461,108,592,137"><area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="797,83,944,112"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="641,108,748,137"></map>
</div>

</div>
</div><p>
<a class="anchor" name="928f6fe98ffaaa8f72282688bcc8d1cd"></a><!-- doxytag: member="lm629.h::isTrajComplete" ref="928f6fe98ffaaa8f72282688bcc8d1cd" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_generic_type_defs_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> isTrajComplete           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Indique si la derni√®re trajectoire est termin√©e. 
<p>
Attention : cette fonction renvoie 1 d√®s que la trajectoire programm√©e est atteinte, ce qui signifie qu'en cas de d√©passement (ce qui peut se produire si le correcteur est mal r√©gl√© par exemple), cette fonction peut renvoyer 1 alors m√™me que le moteur continue √† tourner. Ainsi, dans le cas d'un syst√®me pseudo-armorti, il n'est pas possible d'enchainer des trajectoires avec cette fonction et sans d√©lais suppl√©mentaire sans perdre drastiquement en pr√©cision.<p>
<dl class="return" compact><dt><b>Renvoie:</b></dt><dd>done renvoie <a class="el" href="_generic_type_defs_8h.html#fbf708854fe02af8475a9ba02f3196cba82764c3079aea4e60c80e45befbb839">TRUE</a> en si la trajectoire est termin√©e et <a class="el" href="_generic_type_defs_8h.html#fbf708854fe02af8475a9ba02f3196cba1e095cc966dbecf6a0d8aad75348d1a">FALSE</a> sinon </dd></dl>
<div class="fragment"><pre class="fragment"><a name="l00620"></a>00620                           {
<a name="l00621"></a>00621 <span class="comment">//      Delay10KTCYx(12);                                       // attends 120000 cycles, √† 48 MHz / 4 = 10 ms</span>
<a name="l00622"></a>00622 
<a name="l00623"></a>00623         <span class="keywordflow">return</span> (<a class="code" href="lm629_8c.html#e3ef6f2f44349bc4e6af34671b6aa4aa" title="Lire un bit d&amp;#39;√©tat du LM.">readStatusBit</a>(<a class="code" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a>, <a class="code" href="lm629_8h.html#a66aad69eb7c3b5448bbd5025aed187a" title="Trajectory Complete [Interrupt].">LM_TRAJECTORY_COMPLETE</a>)
<a name="l00624"></a>00624                 &amp;&amp; <a class="code" href="lm629_8c.html#e3ef6f2f44349bc4e6af34671b6aa4aa" title="Lire un bit d&amp;#39;√©tat du LM.">readStatusBit</a>(<a class="code" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a>, <a class="code" href="lm629_8h.html#a66aad69eb7c3b5448bbd5025aed187a" title="Trajectory Complete [Interrupt].">LM_TRAJECTORY_COMPLETE</a>));
<a name="l00625"></a>00625 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_928f6fe98ffaaa8f72282688bcc8d1cd_cgraph.png" border="0" usemap="#lm629_8h_928f6fe98ffaaa8f72282688bcc8d1cd_cgraph_map" alt=""></center>
<map name="lm629_8h_928f6fe98ffaaa8f72282688bcc8d1cd_cgraph_map">
<area shape="rect" href="lm629_8c.html#e3ef6f2f44349bc4e6af34671b6aa4aa" title="Lire un bit d&#39;√©tat du LM." alt="" coords="183,5,300,35"><area shape="rect" href="lm629_8c.html#87c455cfb4cbd87a3de45fd9f38a1b45" title="Lire l&#39;√©tat d&#39;un LM." alt="" coords="351,5,449,35"><area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="656,5,803,35"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="500,31,607,60"></map>
</div>

</div>
</div><p>
<a class="anchor" name="f53f9dcb4f2401d3b013a07e63f8762d"></a><!-- doxytag: member="lm629.h::moveBackward" ref="f53f9dcb4f2401d3b013a07e63f8762d" args="(short pos, short vel, short acc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void moveBackward           </td>
          <td>(</td>
          <td class="paramtype">short&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&nbsp;</td>
          <td class="paramname"> <em>vel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&nbsp;</td>
          <td class="paramname"> <em>acc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Recule. 
<p>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pos</em>&nbsp;</td><td>position √† atteindre, en mm, sur 16 bits </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vel</em>&nbsp;</td><td>vitesse max., en mm/s, sur 16 bits </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>acc</em>&nbsp;</td><td>acc√©l√©ration, en mm/s¬≤, sur 16 bits </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><a name="l00549"></a>00549                                                    {
<a name="l00550"></a>00550         <a class="code" href="lm629_8c.html#3917d5827bfa6cc17f4e1a47ff073248" title="Reset les bits d&amp;#39;interruption du/des LM(s).">resetInterrupt</a>(<a class="code" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a>);
<a name="l00551"></a>00551 
<a name="l00552"></a>00552         <a class="code" href="lm629_8c.html#50cb02e459a813bf1d2d14a80d905a41" title="Programme une nouvelle position √† atteindre.">newPosition</a>(<a class="code" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a>,
<a name="l00553"></a>00553                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) pos * <a class="code" href="lm629_8h.html#f2a4d3b56ba2d2b9acd784a68ff06c5e">COEF_RIGHT_WHEEL</a>), 
<a name="l00554"></a>00554                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) vel * COEF_RIGHT_WHEEL * <a class="code" href="lm629_8h.html#0207d3ff367d6998a9cce42e6e537cd0">CONST_VEL</a>),
<a name="l00555"></a>00555                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) acc * COEF_RIGHT_WHEEL * <a class="code" href="lm629_8h.html#cb83aa519abc3716d6cfa893d4cff90b">CONST_ACC</a>));
<a name="l00556"></a>00556         <a class="code" href="lm629_8c.html#50cb02e459a813bf1d2d14a80d905a41" title="Programme une nouvelle position √† atteindre.">newPosition</a>(<a class="code" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a>,
<a name="l00557"></a>00557                 - (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) pos * <a class="code" href="lm629_8h.html#0f774dfae4bfd44352cfcd445d00f572">COEF_LEFT_WHEEL</a>),
<a name="l00558"></a>00558                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) vel * COEF_LEFT_WHEEL * CONST_VEL),
<a name="l00559"></a>00559                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) acc * COEF_LEFT_WHEEL * <a class="code" href="lm629_8h.html#cb83aa519abc3716d6cfa893d4cff90b">CONST_ACC</a>));
<a name="l00560"></a>00560 
<a name="l00561"></a>00561         <a class="code" href="lm629_8c.html#adb0186b6cbfbfe2f37d6e5d64284499" title="D√©marre la trajectoire programm√©e.">start</a>(<a class="code" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a>);
<a name="l00562"></a>00562 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_f53f9dcb4f2401d3b013a07e63f8762d_cgraph.png" border="0" usemap="#lm629_8h_f53f9dcb4f2401d3b013a07e63f8762d_cgraph_map" alt=""></center>
<map name="lm629_8h_f53f9dcb4f2401d3b013a07e63f8762d_cgraph_map">
<area shape="rect" href="lm629_8c.html#50cb02e459a813bf1d2d14a80d905a41" title="Programme une nouvelle position √† atteindre." alt="" coords="193,112,300,141"><area shape="rect" href="lm629_8c.html#3917d5827bfa6cc17f4e1a47ff073248" title="Reset les bits d&#39;interruption du/des LM(s)." alt="" coords="188,59,305,88"><area shape="rect" href="lm629_8c.html#adb0186b6cbfbfe2f37d6e5d64284499" title="D√©marre la trajectoire programm√©e." alt="" coords="221,5,272,35"><area shape="rect" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s)." alt="" coords="356,59,484,88"><area shape="rect" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits)." alt="" coords="355,112,485,141"><area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="691,85,837,115"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="535,85,641,115"></map>
</div>

</div>
</div><p>
<a class="anchor" name="bdba60aec4c9ae15e242fe1824ca4e5b"></a><!-- doxytag: member="lm629.h::moveForward" ref="bdba60aec4c9ae15e242fe1824ca4e5b" args="(short pos, short vel, short acc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void moveForward           </td>
          <td>(</td>
          <td class="paramtype">short&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&nbsp;</td>
          <td class="paramname"> <em>vel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&nbsp;</td>
          <td class="paramname"> <em>acc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Avance. 
<p>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pos</em>&nbsp;</td><td>position √† atteindre, en mm, sur 16 bits </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vel</em>&nbsp;</td><td>vitesse max., en mm/s, sur 16 bits </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>acc</em>&nbsp;</td><td>acc√©l√©ration, en mm/s¬≤, sur 16 bits </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><a name="l00527"></a>00527                                                   {
<a name="l00528"></a>00528         <a class="code" href="lm629_8c.html#3917d5827bfa6cc17f4e1a47ff073248" title="Reset les bits d&amp;#39;interruption du/des LM(s).">resetInterrupt</a>(<a class="code" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a>);
<a name="l00529"></a>00529 
<a name="l00530"></a>00530         <a class="code" href="lm629_8c.html#50cb02e459a813bf1d2d14a80d905a41" title="Programme une nouvelle position √† atteindre.">newPosition</a>(<a class="code" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a>,
<a name="l00531"></a>00531                 - (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) pos * <a class="code" href="lm629_8h.html#f2a4d3b56ba2d2b9acd784a68ff06c5e">COEF_RIGHT_WHEEL</a>), 
<a name="l00532"></a>00532                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) vel * COEF_RIGHT_WHEEL * <a class="code" href="lm629_8h.html#0207d3ff367d6998a9cce42e6e537cd0">CONST_VEL</a>),
<a name="l00533"></a>00533                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) acc * COEF_RIGHT_WHEEL * <a class="code" href="lm629_8h.html#cb83aa519abc3716d6cfa893d4cff90b">CONST_ACC</a>));
<a name="l00534"></a>00534         <a class="code" href="lm629_8c.html#50cb02e459a813bf1d2d14a80d905a41" title="Programme une nouvelle position √† atteindre.">newPosition</a>(<a class="code" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a>,
<a name="l00535"></a>00535                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) pos * <a class="code" href="lm629_8h.html#0f774dfae4bfd44352cfcd445d00f572">COEF_LEFT_WHEEL</a>),
<a name="l00536"></a>00536                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) vel * COEF_LEFT_WHEEL * CONST_VEL),
<a name="l00537"></a>00537                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) acc * COEF_LEFT_WHEEL * <a class="code" href="lm629_8h.html#cb83aa519abc3716d6cfa893d4cff90b">CONST_ACC</a>));
<a name="l00538"></a>00538 
<a name="l00539"></a>00539         <a class="code" href="lm629_8c.html#adb0186b6cbfbfe2f37d6e5d64284499" title="D√©marre la trajectoire programm√©e.">start</a>(<a class="code" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a>);
<a name="l00540"></a>00540 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_bdba60aec4c9ae15e242fe1824ca4e5b_cgraph.png" border="0" usemap="#lm629_8h_bdba60aec4c9ae15e242fe1824ca4e5b_cgraph_map" alt=""></center>
<map name="lm629_8h_bdba60aec4c9ae15e242fe1824ca4e5b_cgraph_map">
<area shape="rect" href="lm629_8c.html#50cb02e459a813bf1d2d14a80d905a41" title="Programme une nouvelle position √† atteindre." alt="" coords="180,112,287,141"><area shape="rect" href="lm629_8c.html#3917d5827bfa6cc17f4e1a47ff073248" title="Reset les bits d&#39;interruption du/des LM(s)." alt="" coords="175,59,292,88"><area shape="rect" href="lm629_8c.html#adb0186b6cbfbfe2f37d6e5d64284499" title="D√©marre la trajectoire programm√©e." alt="" coords="208,5,259,35"><area shape="rect" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s)." alt="" coords="343,59,471,88"><area shape="rect" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits)." alt="" coords="341,112,472,141"><area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="677,85,824,115"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="521,85,628,115"></map>
</div>

</div>
</div><p>
<a class="anchor" name="50cb02e459a813bf1d2d14a80d905a41"></a><!-- doxytag: member="lm629.h::newPosition" ref="50cb02e459a813bf1d2d14a80d905a41" args="(char axis, DWORD pos, DWORD vel, DWORD acc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void newPosition           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>axis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_generic_type_defs_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_generic_type_defs_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>vel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_generic_type_defs_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>acc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Programme une nouvelle position √† atteindre. 
<p>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>axis</em>&nbsp;</td><td>l'axe moteur correspondant au LM √† programmer, peut valoir : <br>
 <a class="el" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a> le moteur de droite uniquement <br>
 <a class="el" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a> le moteur de gauche uniquement <br>
 <a class="el" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a> les 2 moteurs</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pos</em>&nbsp;</td><td>position √† atteindre, sur 16 bits </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vel</em>&nbsp;</td><td>vitesse max., sur 16 bits </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>acc</em>&nbsp;</td><td>acc√©l√©ration, sur 16 bits <br>
 /!\ uniquement si l'on part d'une position √† l'arr√™t l'acc√©l√©ration ne peut pas √™tre chang√©e en court de trajectoire </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><a name="l00416"></a>00416                                                              {
<a name="l00417"></a>00417         <a class="code" href="union___d_w_o_r_d___v_a_l.html">DWORD_VAL</a> posData = {pos};
<a name="l00418"></a>00418         <a class="code" href="union___d_w_o_r_d___v_a_l.html">DWORD_VAL</a> velData = {vel};
<a name="l00419"></a>00419         <a class="code" href="union___d_w_o_r_d___v_a_l.html">DWORD_VAL</a> accData = {acc};
<a name="l00420"></a>00420 
<a name="l00421"></a>00421         <a class="code" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s).">writeCommand</a>(axis, <a class="code" href="lm629_8h.html#9b3afc89ffd7438464c042e0d0752147" title="Trajectory -- Load Trajectory.">LM_CMD_LTRJ</a>);
<a name="l00422"></a>00422 
<a name="l00423"></a>00423         <span class="keywordflow">if</span> (accData.<a class="code" href="union___d_w_o_r_d___v_a_l.html#4919f510dcac6be2acec24a14020a162">Val</a> != <a class="code" href="_generic_type_defs_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l00424"></a>00424                 <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, <a class="code" href="lm629_8h.html#1e708cd1e6b100363999b58ec28da9c3">LM_LTRJ_LOAD_POS</a> | <a class="code" href="lm629_8h.html#b0d951dab43f8d113377678b5efa188e">LM_LTRJ_POS_REL</a> | <a class="code" href="lm629_8h.html#a5b03e6f436b0a0bcd96580066d7d1f3">LM_LTRJ_LOAD_VEL</a> | <a class="code" href="lm629_8h.html#a3be3ef647d69aaf3d25d1cf3fcdf614">LM_LTRJ_LOAD_ACC</a>);
<a name="l00425"></a>00425                 <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, accData.<a class="code" href="union___d_w_o_r_d___v_a_l.html#a685f58ffe0cfd4f85e5cc18bb359827">word</a>.<a class="code" href="union___d_w_o_r_d___v_a_l.html#e329642eb1aff5886d2fe1bfc95e20ef">HW</a>);
<a name="l00426"></a>00426                 <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, accData.<a class="code" href="union___d_w_o_r_d___v_a_l.html#a685f58ffe0cfd4f85e5cc18bb359827">word</a>.<a class="code" href="union___d_w_o_r_d___v_a_l.html#081f67fb9fb8b1148f3f7940638a73cd">LW</a>);
<a name="l00427"></a>00427         }
<a name="l00428"></a>00428         <span class="keywordflow">else</span>
<a name="l00429"></a>00429                 <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, <a class="code" href="lm629_8h.html#1e708cd1e6b100363999b58ec28da9c3">LM_LTRJ_LOAD_POS</a> | <a class="code" href="lm629_8h.html#b0d951dab43f8d113377678b5efa188e">LM_LTRJ_POS_REL</a> | <a class="code" href="lm629_8h.html#a5b03e6f436b0a0bcd96580066d7d1f3">LM_LTRJ_LOAD_VEL</a>);
<a name="l00430"></a>00430 
<a name="l00431"></a>00431         <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, velData.<a class="code" href="union___d_w_o_r_d___v_a_l.html#a685f58ffe0cfd4f85e5cc18bb359827">word</a>.<a class="code" href="union___d_w_o_r_d___v_a_l.html#e329642eb1aff5886d2fe1bfc95e20ef">HW</a>);
<a name="l00432"></a>00432         <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, velData.<a class="code" href="union___d_w_o_r_d___v_a_l.html#a685f58ffe0cfd4f85e5cc18bb359827">word</a>.<a class="code" href="union___d_w_o_r_d___v_a_l.html#081f67fb9fb8b1148f3f7940638a73cd">LW</a>);
<a name="l00433"></a>00433         <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, posData.<a class="code" href="union___d_w_o_r_d___v_a_l.html#a685f58ffe0cfd4f85e5cc18bb359827">word</a>.<a class="code" href="union___d_w_o_r_d___v_a_l.html#e329642eb1aff5886d2fe1bfc95e20ef">HW</a>);
<a name="l00434"></a>00434         <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, posData.<a class="code" href="union___d_w_o_r_d___v_a_l.html#a685f58ffe0cfd4f85e5cc18bb359827">word</a>.<a class="code" href="union___d_w_o_r_d___v_a_l.html#081f67fb9fb8b1148f3f7940638a73cd">LW</a>);
<a name="l00435"></a>00435 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_50cb02e459a813bf1d2d14a80d905a41_cgraph.png" border="0" usemap="#lm629_8h_50cb02e459a813bf1d2d14a80d905a41_cgraph_map" alt=""></center>
<map name="lm629_8h_50cb02e459a813bf1d2d14a80d905a41_cgraph_map">
<area shape="rect" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s)." alt="" coords="164,5,292,35"><area shape="rect" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits)." alt="" coords="163,59,293,88"><area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="499,32,645,61"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="343,32,449,61"></map>
</div>

</div>
</div><p>
<a class="anchor" name="ecadba62e0d1041ce012f142027c9e8f"></a><!-- doxytag: member="lm629.h::newVelocity" ref="ecadba62e0d1041ce012f142027c9e8f" args="(char axis, DWORD vel, DWORD acc, char dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void newVelocity           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>axis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_generic_type_defs_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>vel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_generic_type_defs_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>acc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>dir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Programme une nouvelle vitesse √† atteindre. 
<p>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>axis</em>&nbsp;</td><td>l'axe moteur correspondant au LM √† programmer, peut valoir : <br>
 <a class="el" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a> le moteur de droite uniquement <br>
 <a class="el" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a> le moteur de gauche uniquement <br>
 <a class="el" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a> les 2 moteurs</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vel</em>&nbsp;</td><td>vitesse, sur 16 bits </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>acc</em>&nbsp;</td><td>acc√©l√©ration, sur 16 bits <br>
 /!\ uniquement si l'on part d'une position √† l'arr√™t l'acc√©l√©ration ne peut pas √™tre chang√©e en court de trajectoire</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dir</em>&nbsp;</td><td>sens de rotation, peut valoir : <br>
 <a class="el" href="lm629_8h.html#c47196e19ad296c963c7ffd1d906b6b9">LM_LTRJ_FORWARD_DIR</a> avance <br>
 <a class="el" href="lm629_8h.html#f874d75feeff13d96887c6255c9c10ea">LM_LTRJ_BACKWARD_DIR</a> recule </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><a name="l00454"></a>00454                                                             {
<a name="l00455"></a>00455         <a class="code" href="union___d_w_o_r_d___v_a_l.html">DWORD_VAL</a> velData = {vel};
<a name="l00456"></a>00456         <a class="code" href="union___d_w_o_r_d___v_a_l.html">DWORD_VAL</a> accData = {acc};
<a name="l00457"></a>00457 
<a name="l00458"></a>00458         <a class="code" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s).">writeCommand</a>(axis, <a class="code" href="lm629_8h.html#9b3afc89ffd7438464c042e0d0752147" title="Trajectory -- Load Trajectory.">LM_CMD_LTRJ</a>);
<a name="l00459"></a>00459 
<a name="l00460"></a>00460         <span class="keywordflow">if</span> (accData.<a class="code" href="union___d_w_o_r_d___v_a_l.html#4919f510dcac6be2acec24a14020a162">Val</a> != <a class="code" href="_generic_type_defs_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l00461"></a>00461                 <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, <a class="code" href="lm629_8h.html#a5b03e6f436b0a0bcd96580066d7d1f3">LM_LTRJ_LOAD_VEL</a> | <a class="code" href="lm629_8h.html#a3be3ef647d69aaf3d25d1cf3fcdf614">LM_LTRJ_LOAD_ACC</a> | <a class="code" href="lm629_8h.html#15110b567dd31b5dd11703ff9772df58">LM_LTRJ_VEL_MODE</a> | dir);
<a name="l00462"></a>00462                 <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, accData.<a class="code" href="union___d_w_o_r_d___v_a_l.html#a685f58ffe0cfd4f85e5cc18bb359827">word</a>.<a class="code" href="union___d_w_o_r_d___v_a_l.html#e329642eb1aff5886d2fe1bfc95e20ef">HW</a>);
<a name="l00463"></a>00463                 <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, accData.<a class="code" href="union___d_w_o_r_d___v_a_l.html#a685f58ffe0cfd4f85e5cc18bb359827">word</a>.<a class="code" href="union___d_w_o_r_d___v_a_l.html#081f67fb9fb8b1148f3f7940638a73cd">LW</a>);
<a name="l00464"></a>00464         }
<a name="l00465"></a>00465         <span class="keywordflow">else</span>
<a name="l00466"></a>00466                 <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, <a class="code" href="lm629_8h.html#a5b03e6f436b0a0bcd96580066d7d1f3">LM_LTRJ_LOAD_VEL</a> | <a class="code" href="lm629_8h.html#15110b567dd31b5dd11703ff9772df58">LM_LTRJ_VEL_MODE</a> | dir);
<a name="l00467"></a>00467 
<a name="l00468"></a>00468         <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, velData.<a class="code" href="union___d_w_o_r_d___v_a_l.html#a685f58ffe0cfd4f85e5cc18bb359827">word</a>.<a class="code" href="union___d_w_o_r_d___v_a_l.html#e329642eb1aff5886d2fe1bfc95e20ef">HW</a>);
<a name="l00469"></a>00469         <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, velData.<a class="code" href="union___d_w_o_r_d___v_a_l.html#a685f58ffe0cfd4f85e5cc18bb359827">word</a>.<a class="code" href="union___d_w_o_r_d___v_a_l.html#081f67fb9fb8b1148f3f7940638a73cd">LW</a>);
<a name="l00470"></a>00470 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_ecadba62e0d1041ce012f142027c9e8f_cgraph.png" border="0" usemap="#lm629_8h_ecadba62e0d1041ce012f142027c9e8f_cgraph_map" alt=""></center>
<map name="lm629_8h_ecadba62e0d1041ce012f142027c9e8f_cgraph_map">
<area shape="rect" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s)." alt="" coords="164,5,292,35"><area shape="rect" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits)." alt="" coords="163,59,293,88"><area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="499,32,645,61"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="343,32,449,61"></map>
</div>

</div>
</div><p>
<a class="anchor" name="ec750313f79234101e43e09e3083b947"></a><!-- doxytag: member="lm629.h::readDataWord" ref="ec750313f79234101e43e09e3083b947" args="(char axis)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_generic_type_defs_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> readDataWord           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>axis</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lire un mot envoy√© par le LM (un mot = 2 octets = 16 bits). 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Il n'est √©videmment pas possible de lire 2 LMs simultan√©ment, puisqu'ils partagent le m√™me bus de donn√©e.</dd></dl>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>axis</em>&nbsp;</td><td>l'axe moteur correspondant au LM √† lire, peut valoir : <br>
 <a class="el" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a> le moteur de droite <br>
 <a class="el" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a> le moteur de gauche</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Renvoie:</b></dt><dd>word le mot re√ßu, sur 16 bits </dd></dl>
<div class="fragment"><pre class="fragment"><a name="l00210"></a>00210                              {
<a name="l00211"></a>00211         <a class="code" href="union___w_o_r_d___v_a_l.html">WORD_VAL</a> word;
<a name="l00212"></a>00212 
<a name="l00213"></a>00213         <a class="code" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s.">waitBusyLM</a>(axis);
<a name="l00214"></a>00214         <a class="code" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e.">dataBusDirection</a>(<a class="code" href="lm629_8h.html#bebff40b775e10e37faa4ec7b45d6a89" title="Recevoir des donn√©es du LM.">DATA_IN</a>);
<a name="l00215"></a>00215 
<a name="l00216"></a>00216         <span class="keywordflow">if</span> (axis == <a class="code" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a>) {
<a name="l00217"></a>00217                 <a class="code" href="lm629_8h.html#d2c0f212270a2a4cc1d35cb5e5358fa7">LM_CS1</a> = 0;
<a name="l00218"></a>00218                 <a class="code" href="lm629_8h.html#929000e38340f0ad31f92dd1eccd97ff">LM_CS2</a> = 1;
<a name="l00219"></a>00219         }
<a name="l00220"></a>00220         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (axis == <a class="code" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a>) {
<a name="l00221"></a>00221                 <a class="code" href="lm629_8h.html#d2c0f212270a2a4cc1d35cb5e5358fa7">LM_CS1</a> = 1;
<a name="l00222"></a>00222                 <a class="code" href="lm629_8h.html#929000e38340f0ad31f92dd1eccd97ff">LM_CS2</a> = 0;
<a name="l00223"></a>00223         }
<a name="l00224"></a>00224 
<a name="l00225"></a>00225         <a class="code" href="lm629_8h.html#ec9c2920a09a95964e4295686d5f6479">LM_PS</a> = <a class="code" href="lm629_8h.html#de83aa8327ccb5370aa5b24b1cb48973" title="Envoyer des donn√©es.">PS_DATA</a>;                                        <span class="comment">// attendre au moins 30 ns avant LM_READ = 0</span>
<a name="l00226"></a>00226         Nop();                                                          <span class="comment">// attends 1 cycle, √† 48 MHz / 4 = 83.3 ns (&gt; 30 ns)</span>
<a name="l00227"></a>00227         <a class="code" href="lm629_8h.html#9b922daf8fe163941ff86c04e1e6c9b0">LM_READ</a> = 0;                                            <span class="comment">// attendre au moins 180 ns avant de lire le bus</span>
<a name="l00228"></a>00228         Nop(); Nop(); Nop();                            <span class="comment">// attends 3 cycles, √† 48 MHz / 4 = 250 ns (&gt; 180 ns)</span>
<a name="l00229"></a>00229 
<a name="l00230"></a>00230         word.<a class="code" href="union___w_o_r_d___v_a_l.html#cdce4917ed4b8de7a7a0c07f21a56141">byte</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#912b51805454255a794b26e6646c0cf1">HB</a> = <a class="code" href="lm629_8h.html#db2b9b062b4510149371b58af96e53c1">LM_DATA_BUS</a>;
<a name="l00231"></a>00231 
<a name="l00232"></a>00232         <a class="code" href="lm629_8h.html#9b922daf8fe163941ff86c04e1e6c9b0">LM_READ</a> = 1;                                            <span class="comment">// attendre au moins 120 ns avant LM_READ = 0</span>
<a name="l00233"></a>00233         Nop(); Nop();                                           <span class="comment">// attends 2 cycles, √† 48 MHz / 4 = 166 ns (&gt; 120 ns)</span>
<a name="l00234"></a>00234         <a class="code" href="lm629_8h.html#9b922daf8fe163941ff86c04e1e6c9b0">LM_READ</a> = 0;                                            <span class="comment">// attendre au moins 180 ns avant de lire le bus</span>
<a name="l00235"></a>00235         Nop(); Nop(); Nop();                            <span class="comment">// attends 3 cycles, √† 48 MHz / 4 = 250 ns (&gt; 180 ns)</span>
<a name="l00236"></a>00236 
<a name="l00237"></a>00237         word.<a class="code" href="union___w_o_r_d___v_a_l.html#cdce4917ed4b8de7a7a0c07f21a56141">byte</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#a012d9c31fb3018cbe4d6a5052d98f51">LB</a> = <a class="code" href="lm629_8h.html#db2b9b062b4510149371b58af96e53c1">LM_DATA_BUS</a>;
<a name="l00238"></a>00238 
<a name="l00239"></a>00239         <a class="code" href="lm629_8h.html#9b922daf8fe163941ff86c04e1e6c9b0">LM_READ</a> = 1;                                            <span class="comment">// attendre au moins 30 ns avant une autre action</span>
<a name="l00240"></a>00240 
<a name="l00241"></a>00241         <span class="keywordflow">return</span> word.<a class="code" href="union___w_o_r_d___v_a_l.html#3b0f626d2e15ff5aa21804dd598d23c9">Val</a>;
<a name="l00242"></a>00242 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_ec750313f79234101e43e09e3083b947_cgraph.png" border="0" usemap="#lm629_8h_ec750313f79234101e43e09e3083b947_cgraph_map" alt=""></center>
<map name="lm629_8h_ec750313f79234101e43e09e3083b947_cgraph_map">
<area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="341,5,488,35"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="185,31,292,60"></map>
</div>

</div>
</div><p>
<a class="anchor" name="87c455cfb4cbd87a3de45fd9f38a1b45"></a><!-- doxytag: member="lm629.h::readStatus" ref="87c455cfb4cbd87a3de45fd9f38a1b45" args="(char axis)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_generic_type_defs_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> readStatus           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>axis</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lire l'√©tat d'un LM. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Il n'est √©videmment pas possible de lire l'√©tat de 2 LMs simultan√©ment, puisqu'ils partagent le m√™me bus de donn√©e.</dd></dl>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>axis</em>&nbsp;</td><td>l'axe moteur correspondant au LM √† lire, peut valoir : <br>
 <a class="el" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a> le moteur de droite <br>
 <a class="el" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a> le moteur de gauche</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Renvoie:</b></dt><dd>status l'√©tat du LM, sur 8 bits </dd></dl>
<div class="fragment"><pre class="fragment"><a name="l00255"></a>00255                            {
<a name="l00256"></a>00256         <a class="code" href="_generic_type_defs_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> status = 0;
<a name="l00257"></a>00257 
<a name="l00258"></a>00258         <a class="code" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s.">waitBusyLM</a>(axis);
<a name="l00259"></a>00259         <a class="code" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e.">dataBusDirection</a>(<a class="code" href="lm629_8h.html#bebff40b775e10e37faa4ec7b45d6a89" title="Recevoir des donn√©es du LM.">DATA_IN</a>);
<a name="l00260"></a>00260 
<a name="l00261"></a>00261         <span class="keywordflow">if</span> (axis == <a class="code" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a>) {
<a name="l00262"></a>00262                 <a class="code" href="lm629_8h.html#d2c0f212270a2a4cc1d35cb5e5358fa7">LM_CS1</a> = 0;
<a name="l00263"></a>00263                 <a class="code" href="lm629_8h.html#929000e38340f0ad31f92dd1eccd97ff">LM_CS2</a> = 1;
<a name="l00264"></a>00264         }
<a name="l00265"></a>00265         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (axis == <a class="code" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a>) {
<a name="l00266"></a>00266                 <a class="code" href="lm629_8h.html#d2c0f212270a2a4cc1d35cb5e5358fa7">LM_CS1</a> = 1;
<a name="l00267"></a>00267                 <a class="code" href="lm629_8h.html#929000e38340f0ad31f92dd1eccd97ff">LM_CS2</a> = 0;
<a name="l00268"></a>00268         }
<a name="l00269"></a>00269 
<a name="l00270"></a>00270         <a class="code" href="lm629_8h.html#ec9c2920a09a95964e4295686d5f6479">LM_PS</a> = <a class="code" href="lm629_8h.html#e3fd2e7e29e99a5b6b5457acc1c99bec" title="Envoyer une commande.">PS_COMMAND</a>;                                     <span class="comment">// attendre au moins 30 ns avant LM_READ = 0</span>
<a name="l00271"></a>00271         Nop();                                                          <span class="comment">// attends 1 cycle, √† 48 MHz / 4 = 83.3 ns (&gt; 30 ns)</span>
<a name="l00272"></a>00272         <a class="code" href="lm629_8h.html#9b922daf8fe163941ff86c04e1e6c9b0">LM_READ</a> = 0;                                            <span class="comment">// attendre au moins 180 ns avant de lire le bus</span>
<a name="l00273"></a>00273         Nop(); Nop(); Nop();                            <span class="comment">// attends 3 cycles, √† 48 MHz / 4 = 250 ns (&gt; 180 ns)</span>
<a name="l00274"></a>00274 
<a name="l00275"></a>00275         status = <a class="code" href="lm629_8h.html#db2b9b062b4510149371b58af96e53c1">LM_DATA_BUS</a>;
<a name="l00276"></a>00276 
<a name="l00277"></a>00277         <a class="code" href="lm629_8h.html#9b922daf8fe163941ff86c04e1e6c9b0">LM_READ</a> = 1;                                            <span class="comment">// attendre au moins 30 ns avant une autre action</span>
<a name="l00278"></a>00278 
<a name="l00279"></a>00279         <span class="keywordflow">return</span> status;
<a name="l00280"></a>00280 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_87c455cfb4cbd87a3de45fd9f38a1b45_cgraph.png" border="0" usemap="#lm629_8h_87c455cfb4cbd87a3de45fd9f38a1b45_cgraph_map" alt=""></center>
<map name="lm629_8h_87c455cfb4cbd87a3de45fd9f38a1b45_cgraph_map">
<area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="312,5,459,35"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="156,31,263,60"></map>
</div>

</div>
</div><p>
<a class="anchor" name="e3ef6f2f44349bc4e6af34671b6aa4aa"></a><!-- doxytag: member="lm629.h::readStatusBit" ref="e3ef6f2f44349bc4e6af34671b6aa4aa" args="(char axis, BYTE type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_generic_type_defs_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> readStatusBit           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>axis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_generic_type_defs_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lire un bit d'√©tat du LM. 
<p>
Cette fonction appelle simplement <a class="el" href="lm629_8c.html#87c455cfb4cbd87a3de45fd9f38a1b45" title="Lire l&#39;√©tat d&#39;un LM.">readStatus()</a> et applique le masque correspondant au bit √† lire.<p>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>axis</em>&nbsp;</td><td>l'axe moteur correspondant au LM √† lire, peut valoir : <br>
 MOTOR_RIGH le moteur de droite <br>
 <a class="el" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a> le moteur de gauche</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bit</em>&nbsp;</td><td>le bit √† lire, peut valoir : <br>
 <a class="el" href="lm629_8h.html#d040c9625454795ba4245f5521dbaa33" title="Busy bit.">LM_BUSY_BIT</a> Busy bit <br>
 <a class="el" href="lm629_8h.html#82baca2a5876592ab43532578564a601" title="Command Error [Interrupt].">LM_COMMAND_ERROR</a> Command Error [Interrupt] <br>
 <a class="el" href="lm629_8h.html#a66aad69eb7c3b5448bbd5025aed187a" title="Trajectory Complete [Interrupt].">LM_TRAJECTORY_COMPLETE</a> Trajectory Complete [Interrupt] <br>
 <a class="el" href="lm629_8h.html#f7cef48ae625eba691c0ff5d3fe6dd46" title="Index Pulse Observed [Interrupt].">LM_INDEX_PULSE</a> Index Pulse Observed [Interrupt] <br>
 <a class="el" href="lm629_8h.html#174763b102c266abb86decf9bde37c18" title="Wraparound Occurred [Interrupt].">LM_WRAP_AROUND</a> Wraparound Occurred [Interrupt] <br>
 <a class="el" href="lm629_8h.html#7f032c01af6c13ef1b4c2237498abe5a" title="Excessive Position Error [Interrupt].">LM_POSITION_ERROR</a> Excessive Position Error [Interrupt] <br>
 <a class="el" href="lm629_8h.html#2262b091449d594fa1ebe5f704794da1" title="Breakpoint Reached [Interrupt].">LM_BREAKPOINT</a> Breakpoint Reached [Interrupt] <br>
 <a class="el" href="lm629_8h.html#d86512740662c4075c38599969e2cc8d" title="Motor Off.">LM_MOTOR_OFF</a> Motor Off</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Renvoie:</b></dt><dd>value la valeur du bit, 0 (<a class="el" href="_generic_type_defs_8h.html#fbf708854fe02af8475a9ba02f3196cba1e095cc966dbecf6a0d8aad75348d1a">FALSE</a>) ou 1 (<a class="el" href="_generic_type_defs_8h.html#fbf708854fe02af8475a9ba02f3196cba82764c3079aea4e60c80e45befbb839">TRUE</a>). </dd></dl>
<div class="fragment"><pre class="fragment"><a name="l00303"></a>00303                                          {
<a name="l00304"></a>00304         <a class="code" href="_generic_type_defs_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> status = 0;
<a name="l00305"></a>00305 
<a name="l00306"></a>00306         status = <a class="code" href="lm629_8c.html#87c455cfb4cbd87a3de45fd9f38a1b45" title="Lire l&amp;#39;√©tat d&amp;#39;un LM.">readStatus</a>(axis);
<a name="l00307"></a>00307         status = (status &amp; type);
<a name="l00308"></a>00308 
<a name="l00309"></a>00309         <span class="keywordflow">if</span> (status != 0)
<a name="l00310"></a>00310                 <span class="keywordflow">return</span> 1;
<a name="l00311"></a>00311         <span class="keywordflow">else</span>
<a name="l00312"></a>00312                 <span class="keywordflow">return</span> 0;
<a name="l00313"></a>00313 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_e3ef6f2f44349bc4e6af34671b6aa4aa_cgraph.png" border="0" usemap="#lm629_8h_e3ef6f2f44349bc4e6af34671b6aa4aa_cgraph_map" alt=""></center>
<map name="lm629_8h_e3ef6f2f44349bc4e6af34671b6aa4aa_cgraph_map">
<area shape="rect" href="lm629_8c.html#87c455cfb4cbd87a3de45fd9f38a1b45" title="Lire l&#39;√©tat d&#39;un LM." alt="" coords="175,5,273,35"><area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="480,5,627,35"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="324,31,431,60"></map>
</div>

</div>
</div><p>
<a class="anchor" name="3917d5827bfa6cc17f4e1a47ff073248"></a><!-- doxytag: member="lm629.h::resetInterrupt" ref="3917d5827bfa6cc17f4e1a47ff073248" args="(char axis)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resetInterrupt           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>axis</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reset les bits d'interruption du/des LM(s). 
<p>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>axis</em>&nbsp;</td><td>l'axe moteur correspondant au LM √† programmer, peut valoir : <br>
 <a class="el" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a> le moteur de droite uniquement <br>
 <a class="el" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a> le moteur de gauche uniquement <br>
 <a class="el" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a> les 2 moteurs </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><a name="l00323"></a>00323                                {
<a name="l00324"></a>00324         <a class="code" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s).">writeCommand</a>(axis, <a class="code" href="lm629_8h.html#0a34e8c681d4361f7793d18ff1173150" title="Interrupt -- Reset Interrupts.">LM_CMD_RSTI</a>);
<a name="l00325"></a>00325         <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, 0x0000);
<a name="l00326"></a>00326 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_3917d5827bfa6cc17f4e1a47ff073248_cgraph.png" border="0" usemap="#lm629_8h_3917d5827bfa6cc17f4e1a47ff073248_cgraph_map" alt=""></center>
<map name="lm629_8h_3917d5827bfa6cc17f4e1a47ff073248_cgraph_map">
<area shape="rect" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s)." alt="" coords="175,5,303,35"><area shape="rect" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits)." alt="" coords="173,59,304,88"><area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="509,32,656,61"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="353,32,460,61"></map>
</div>

</div>
</div><p>
<a class="anchor" name="adb0186b6cbfbfe2f37d6e5d64284499"></a><!-- doxytag: member="lm629.h::start" ref="adb0186b6cbfbfe2f37d6e5d64284499" args="(char axis)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void start           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>axis</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
D√©marre la trajectoire programm√©e. 
<p>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>axis</em>&nbsp;</td><td>l'axe moteur correspondant au LM √† d√©marrer, peut valoir : <br>
 <a class="el" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a> le moteur de droite uniquement <br>
 <a class="el" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a> le moteur de gauche uniquement <br>
 <a class="el" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a> les 2 moteurs </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><a name="l00497"></a>00497                       {
<a name="l00498"></a>00498         <a class="code" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s).">writeCommand</a>(axis, <a class="code" href="lm629_8h.html#56f443b5bde869da30fa77059347be56" title="Trajectory -- Start Motion.">LM_CMD_STT</a>);
<a name="l00499"></a>00499 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_adb0186b6cbfbfe2f37d6e5d64284499_cgraph.png" border="0" usemap="#lm629_8h_adb0186b6cbfbfe2f37d6e5d64284499_cgraph_map" alt=""></center>
<map name="lm629_8h_adb0186b6cbfbfe2f37d6e5d64284499_cgraph_map">
<area shape="rect" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s)." alt="" coords="108,5,236,35"><area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="443,5,589,35"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="287,31,393,60"></map>
</div>

</div>
</div><p>
<a class="anchor" name="8923736db73fa9668b246c31b6bacd70"></a><!-- doxytag: member="lm629.h::stop" ref="8923736db73fa9668b246c31b6bacd70" args="(char axis, WORD type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stop           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>axis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_generic_type_defs_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Arr√™te le/les moteur(s). 
<p>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>axis</em>&nbsp;</td><td>l'axe moteur correspondant au LM √† d√©marrer, peut valoir : <br>
 <a class="el" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a> le moteur de droite uniquement <br>
 <a class="el" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a> le moteur de gauche uniquement <br>
 <a class="el" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a> les 2 moteurs</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>type d'arr√™t, peut valoir : <br>
 <a class="el" href="lm629_8h.html#1f18d097c255274fb73dd70ae6de7a93">LM_LTRJ_MOTOR_OFF</a> arr√™t en roue libre <br>
 <a class="el" href="lm629_8h.html#adf2ce3f3e39fab47814f57bd5f394a0">LM_LTRJ_STOP_ABRUPT</a> arr√™t brutale <br>
 <a class="el" href="lm629_8h.html#129ba2f09e0740800cfe76adce26b6d9">LM_LTRJ_STOP_SMOOTH</a> arr√™t doux </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><a name="l00514"></a>00514                                 {
<a name="l00515"></a>00515         <a class="code" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s).">writeCommand</a>(axis, <a class="code" href="lm629_8h.html#9b3afc89ffd7438464c042e0d0752147" title="Trajectory -- Load Trajectory.">LM_CMD_LTRJ</a>);
<a name="l00516"></a>00516         <a class="code" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord</a>(axis, type);
<a name="l00517"></a>00517         <a class="code" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s).">writeCommand</a>(axis, <a class="code" href="lm629_8h.html#56f443b5bde869da30fa77059347be56" title="Trajectory -- Start Motion.">LM_CMD_STT</a>);
<a name="l00518"></a>00518 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_8923736db73fa9668b246c31b6bacd70_cgraph.png" border="0" usemap="#lm629_8h_8923736db73fa9668b246c31b6bacd70_cgraph_map" alt=""></center>
<map name="lm629_8h_8923736db73fa9668b246c31b6bacd70_cgraph_map">
<area shape="rect" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s)." alt="" coords="108,5,236,35"><area shape="rect" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits)." alt="" coords="107,59,237,88"><area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="443,32,589,61"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="287,32,393,61"></map>
</div>

</div>
</div><p>
<a class="anchor" name="f72df7582ddf637a05b2de0e420656bf"></a><!-- doxytag: member="lm629.h::turnLeft" ref="f72df7582ddf637a05b2de0e420656bf" args="(short angle, short vel, short acc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void turnLeft           </td>
          <td>(</td>
          <td class="paramtype">short&nbsp;</td>
          <td class="paramname"> <em>angle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&nbsp;</td>
          <td class="paramname"> <em>vel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&nbsp;</td>
          <td class="paramname"> <em>acc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tourne vers la gauche. 
<p>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>angle</em>&nbsp;</td><td>angle de rotation par rapport √† la direction initiale du robot, en ¬∞, sur 16 bits </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vel</em>&nbsp;</td><td>vitesse max., en mm/s, sur 16 bits </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>acc</em>&nbsp;</td><td>acc√©l√©ration, en mm/s¬≤, sur 16 bits </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><a name="l00593"></a>00593                                                  {
<a name="l00594"></a>00594         <a class="code" href="lm629_8c.html#3917d5827bfa6cc17f4e1a47ff073248" title="Reset les bits d&amp;#39;interruption du/des LM(s).">resetInterrupt</a>(<a class="code" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a>);
<a name="l00595"></a>00595 
<a name="l00596"></a>00596         <a class="code" href="lm629_8c.html#50cb02e459a813bf1d2d14a80d905a41" title="Programme une nouvelle position √† atteindre.">newPosition</a>(<a class="code" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a>,
<a name="l00597"></a>00597                 - (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) angle * <a class="code" href="lm629_8h.html#d6dd1039b9e339057dfdf6707103e4f1">CONST_POS</a> * <a class="code" href="lm629_8h.html#7a32722a170545438e63331dec716db9" title="Distance entre les 2 roues (en mm).">WHEELS_DIST</a> * <a class="code" href="lm629_8h.html#f2a4d3b56ba2d2b9acd784a68ff06c5e">COEF_RIGHT_WHEEL</a>), 
<a name="l00598"></a>00598                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) vel * COEF_RIGHT_WHEEL * <a class="code" href="lm629_8h.html#0207d3ff367d6998a9cce42e6e537cd0">CONST_VEL</a>),
<a name="l00599"></a>00599                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) acc * COEF_RIGHT_WHEEL * <a class="code" href="lm629_8h.html#cb83aa519abc3716d6cfa893d4cff90b">CONST_ACC</a>));
<a name="l00600"></a>00600         <a class="code" href="lm629_8c.html#50cb02e459a813bf1d2d14a80d905a41" title="Programme une nouvelle position √† atteindre.">newPosition</a>(<a class="code" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a>,
<a name="l00601"></a>00601                 - (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) angle * <a class="code" href="lm629_8h.html#d6dd1039b9e339057dfdf6707103e4f1">CONST_POS</a> * <a class="code" href="lm629_8h.html#7a32722a170545438e63331dec716db9" title="Distance entre les 2 roues (en mm).">WHEELS_DIST</a> * <a class="code" href="lm629_8h.html#0f774dfae4bfd44352cfcd445d00f572">COEF_LEFT_WHEEL</a>),
<a name="l00602"></a>00602                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) vel * COEF_LEFT_WHEEL * CONST_VEL),
<a name="l00603"></a>00603                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) acc * COEF_LEFT_WHEEL * <a class="code" href="lm629_8h.html#cb83aa519abc3716d6cfa893d4cff90b">CONST_ACC</a>));
<a name="l00604"></a>00604 
<a name="l00605"></a>00605         <a class="code" href="lm629_8c.html#adb0186b6cbfbfe2f37d6e5d64284499" title="D√©marre la trajectoire programm√©e.">start</a>(<a class="code" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a>);
<a name="l00606"></a>00606 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_f72df7582ddf637a05b2de0e420656bf_cgraph.png" border="0" usemap="#lm629_8h_f72df7582ddf637a05b2de0e420656bf_cgraph_map" alt=""></center>
<map name="lm629_8h_f72df7582ddf637a05b2de0e420656bf_cgraph_map">
<area shape="rect" href="lm629_8c.html#50cb02e459a813bf1d2d14a80d905a41" title="Programme une nouvelle position √† atteindre." alt="" coords="137,112,244,141"><area shape="rect" href="lm629_8c.html#3917d5827bfa6cc17f4e1a47ff073248" title="Reset les bits d&#39;interruption du/des LM(s)." alt="" coords="132,59,249,88"><area shape="rect" href="lm629_8c.html#adb0186b6cbfbfe2f37d6e5d64284499" title="D√©marre la trajectoire programm√©e." alt="" coords="165,5,216,35"><area shape="rect" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s)." alt="" coords="300,59,428,88"><area shape="rect" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits)." alt="" coords="299,112,429,141"><area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="635,85,781,115"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="479,85,585,115"></map>
</div>

</div>
</div><p>
<a class="anchor" name="f1b311aa12043bf3b42a8739e7026d84"></a><!-- doxytag: member="lm629.h::turnRight" ref="f1b311aa12043bf3b42a8739e7026d84" args="(short angle, short vel, short acc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void turnRight           </td>
          <td>(</td>
          <td class="paramtype">short&nbsp;</td>
          <td class="paramname"> <em>angle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&nbsp;</td>
          <td class="paramname"> <em>vel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&nbsp;</td>
          <td class="paramname"> <em>acc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tourne vers la droite. 
<p>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>angle</em>&nbsp;</td><td>angle de rotation par rapport √† la direction initiale du robot, en ¬∞, sur 16 bits </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vel</em>&nbsp;</td><td>vitesse max., en mm/s, sur 16 bits </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>acc</em>&nbsp;</td><td>acc√©l√©ration, en mm/s¬≤, sur 16 bits </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><a name="l00571"></a>00571                                                   {
<a name="l00572"></a>00572         <a class="code" href="lm629_8c.html#3917d5827bfa6cc17f4e1a47ff073248" title="Reset les bits d&amp;#39;interruption du/des LM(s).">resetInterrupt</a>(<a class="code" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a>);
<a name="l00573"></a>00573 
<a name="l00574"></a>00574         <a class="code" href="lm629_8c.html#50cb02e459a813bf1d2d14a80d905a41" title="Programme une nouvelle position √† atteindre.">newPosition</a>(<a class="code" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a>,
<a name="l00575"></a>00575                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) angle * <a class="code" href="lm629_8h.html#d6dd1039b9e339057dfdf6707103e4f1">CONST_POS</a> * <a class="code" href="lm629_8h.html#7a32722a170545438e63331dec716db9" title="Distance entre les 2 roues (en mm).">WHEELS_DIST</a> * <a class="code" href="lm629_8h.html#f2a4d3b56ba2d2b9acd784a68ff06c5e">COEF_RIGHT_WHEEL</a>), 
<a name="l00576"></a>00576                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) vel * COEF_RIGHT_WHEEL * <a class="code" href="lm629_8h.html#0207d3ff367d6998a9cce42e6e537cd0">CONST_VEL</a>),
<a name="l00577"></a>00577                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) acc * COEF_RIGHT_WHEEL * <a class="code" href="lm629_8h.html#cb83aa519abc3716d6cfa893d4cff90b">CONST_ACC</a>));
<a name="l00578"></a>00578         <a class="code" href="lm629_8c.html#50cb02e459a813bf1d2d14a80d905a41" title="Programme une nouvelle position √† atteindre.">newPosition</a>(<a class="code" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a>,
<a name="l00579"></a>00579                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) angle * <a class="code" href="lm629_8h.html#d6dd1039b9e339057dfdf6707103e4f1">CONST_POS</a> * <a class="code" href="lm629_8h.html#7a32722a170545438e63331dec716db9" title="Distance entre les 2 roues (en mm).">WHEELS_DIST</a> * <a class="code" href="lm629_8h.html#0f774dfae4bfd44352cfcd445d00f572">COEF_LEFT_WHEEL</a>),
<a name="l00580"></a>00580                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) vel * COEF_LEFT_WHEEL * CONST_VEL),
<a name="l00581"></a>00581                 (<span class="keywordtype">long</span>) ((<span class="keywordtype">float</span>) acc * COEF_LEFT_WHEEL * <a class="code" href="lm629_8h.html#cb83aa519abc3716d6cfa893d4cff90b">CONST_ACC</a>));
<a name="l00582"></a>00582 
<a name="l00583"></a>00583         <a class="code" href="lm629_8c.html#adb0186b6cbfbfe2f37d6e5d64284499" title="D√©marre la trajectoire programm√©e.">start</a>(<a class="code" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a>);
<a name="l00584"></a>00584 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_f1b311aa12043bf3b42a8739e7026d84_cgraph.png" border="0" usemap="#lm629_8h_f1b311aa12043bf3b42a8739e7026d84_cgraph_map" alt=""></center>
<map name="lm629_8h_f1b311aa12043bf3b42a8739e7026d84_cgraph_map">
<area shape="rect" href="lm629_8c.html#50cb02e459a813bf1d2d14a80d905a41" title="Programme une nouvelle position √† atteindre." alt="" coords="148,112,255,141"><area shape="rect" href="lm629_8c.html#3917d5827bfa6cc17f4e1a47ff073248" title="Reset les bits d&#39;interruption du/des LM(s)." alt="" coords="143,59,260,88"><area shape="rect" href="lm629_8c.html#adb0186b6cbfbfe2f37d6e5d64284499" title="D√©marre la trajectoire programm√©e." alt="" coords="176,5,227,35"><area shape="rect" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s)." alt="" coords="311,59,439,88"><area shape="rect" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits)." alt="" coords="309,112,440,141"><area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="645,85,792,115"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="489,85,596,115"></map>
</div>

</div>
</div><p>
<a class="anchor" name="89cbdf56bf6a423f871db85d9b25b7ba"></a><!-- doxytag: member="lm629.h::waitBusyLM" ref="89cbdf56bf6a423f871db85d9b25b7ba" args="(char axis)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void waitBusyLM           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>axis</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Attends que le ou les LM(s) ne soient plus occup√©s. 
<p>
Cette fonction est appel√©e en interne dans <a class="el" href="lm629_8c.html#6fa7a38bcd0eeb3fb9c107702f73f516" title="Envoie une commande √†/aux LM(s).">writeCommand()</a>, <a class="el" href="lm629_8c.html#151178ea603ed04beaa1ba4151496878" title="Envoie un mot au LM (un mot = 2 octets = 16 bits).">writeDataWord()</a>, <a class="el" href="lm629_8c.html#ec750313f79234101e43e09e3083b947" title="Lire un mot envoy√© par le LM (un mot = 2 octets = 16 bits).">readDataWord()</a> et <a class="el" href="lm629_8c.html#87c455cfb4cbd87a3de45fd9f38a1b45" title="Lire l&#39;√©tat d&#39;un LM.">readStatus()</a>. Il n'est donc pas n√©cessaire de l'appeler avant d'utiliser l'une de ces fonctions et vous ne devriez en fait jamais devoir l'appeler.<p>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>axis</em>&nbsp;</td><td>l'axe moteur correspondant au LM que l'on veut attendre, peut valoir : <br>
 <a class="el" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a> le moteur de droite uniquement <br>
 <a class="el" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a> le moteur de gauche uniquement <br>
 <a class="el" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a> les 2 moteurs, on attends donc que les 2 LMs ne soient plus occup√©s </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><a name="l00043"></a>00043                            {
<a name="l00044"></a>00044         <span class="keywordtype">char</span> busy_bit;
<a name="l00045"></a>00045 
<a name="l00046"></a>00046         <a class="code" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e.">dataBusDirection</a>(<a class="code" href="lm629_8h.html#bebff40b775e10e37faa4ec7b45d6a89" title="Recevoir des donn√©es du LM.">DATA_IN</a>);
<a name="l00047"></a>00047         <a class="code" href="lm629_8h.html#ec9c2920a09a95964e4295686d5f6479">LM_PS</a> = <a class="code" href="lm629_8h.html#e3fd2e7e29e99a5b6b5457acc1c99bec" title="Envoyer une commande.">PS_COMMAND</a>;                                     <span class="comment">// attendre au moins 30 ns avant LM_READ = 0</span>
<a name="l00048"></a>00048 
<a name="l00049"></a>00049         <span class="comment">// La dur√©e d'attente ne devrait pas exc√©der 100 us</span>
<a name="l00050"></a>00050         <span class="keywordflow">if</span> (axis == <a class="code" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a> || axis == <a class="code" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a>) {
<a name="l00051"></a>00051                 <a class="code" href="lm629_8h.html#d2c0f212270a2a4cc1d35cb5e5358fa7">LM_CS1</a> = 0;
<a name="l00052"></a>00052                 <a class="code" href="lm629_8h.html#929000e38340f0ad31f92dd1eccd97ff">LM_CS2</a> = 1;                                             <span class="comment">// attendre au moins 30 ns avant LM_READ = 0</span>
<a name="l00053"></a>00053                 Nop();                                                  <span class="comment">// attends 1 cycle, √† 48 MHz / 4 = 83.3 ns (&gt; 30 ns)</span>
<a name="l00054"></a>00054 
<a name="l00055"></a>00055                 <span class="keywordflow">do</span> {
<a name="l00056"></a>00056                         <a class="code" href="lm629_8h.html#9b922daf8fe163941ff86c04e1e6c9b0">LM_READ</a> = 0;                                            <span class="comment">// attendre au moins 180 ns avant de lire le bus</span>
<a name="l00057"></a>00057                         Nop(); Nop(); Nop();                            <span class="comment">// attends 3 cycles, √† 48 MHz / 4 = 250 ns (&gt; 180 ns)</span>
<a name="l00058"></a>00058 
<a name="l00059"></a>00059                         busy_bit = <a class="code" href="lm629_8h.html#409b530bd16741bc75f7516c61d6e1b8">LM_D0</a>;
<a name="l00060"></a>00060 
<a name="l00061"></a>00061                         <a class="code" href="lm629_8h.html#9b922daf8fe163941ff86c04e1e6c9b0">LM_READ</a> = 1;                                            <span class="comment">// attendre au moins 120 ns avant LM_READ = 0</span>
<a name="l00062"></a>00062                         Nop(); Nop();                                           <span class="comment">// attends 2 cycles, √† 48 MHz / 4 = 166 ns (&gt; 120 ns)</span>
<a name="l00063"></a>00063                 }
<a name="l00064"></a>00064                 <span class="keywordflow">while</span> (busy_bit == 1);
<a name="l00065"></a>00065         }
<a name="l00066"></a>00066 
<a name="l00067"></a>00067         <span class="comment">// La dur√©e d'attente ne devrait pas exc√©der 100 us</span>
<a name="l00068"></a>00068         <span class="keywordflow">if</span> (axis == <a class="code" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a> || axis == <a class="code" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a>) {
<a name="l00069"></a>00069                 <a class="code" href="lm629_8h.html#d2c0f212270a2a4cc1d35cb5e5358fa7">LM_CS1</a> = 1;
<a name="l00070"></a>00070                 <a class="code" href="lm629_8h.html#929000e38340f0ad31f92dd1eccd97ff">LM_CS2</a> = 0;                                             <span class="comment">// attendre au moins 30 ns avant LM_READ = 0</span>
<a name="l00071"></a>00071                 Nop();                                                  <span class="comment">// attends 1 cycle, √† 48 MHz / 4 = 83.3 ns (&gt; 30 ns)</span>
<a name="l00072"></a>00072 
<a name="l00073"></a>00073                 <span class="keywordflow">do</span> {
<a name="l00074"></a>00074                         <a class="code" href="lm629_8h.html#9b922daf8fe163941ff86c04e1e6c9b0">LM_READ</a> = 0;                                            <span class="comment">// attendre au moins 180 ns avant de lire le bus</span>
<a name="l00075"></a>00075                         Nop(); Nop(); Nop();                            <span class="comment">// attends 3 cycles, √† 48 MHz / 4 = 250 ns (&gt; 180 ns)</span>
<a name="l00076"></a>00076 
<a name="l00077"></a>00077                         busy_bit = <a class="code" href="lm629_8h.html#409b530bd16741bc75f7516c61d6e1b8">LM_D0</a>;
<a name="l00078"></a>00078 
<a name="l00079"></a>00079                         <a class="code" href="lm629_8h.html#9b922daf8fe163941ff86c04e1e6c9b0">LM_READ</a> = 1;                                            <span class="comment">// attendre au moins 120 ns avant LM_READ = 0</span>
<a name="l00080"></a>00080                         Nop(); Nop();                                           <span class="comment">// attends 2 cycles, √† 48 MHz / 4 = 166 ns (&gt; 120 ns)</span>
<a name="l00081"></a>00081                 }
<a name="l00082"></a>00082                 <span class="keywordflow">while</span> (busy_bit == 1);
<a name="l00083"></a>00083         }
<a name="l00084"></a>00084 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_89cbdf56bf6a423f871db85d9b25b7ba_cgraph.png" border="0" usemap="#lm629_8h_89cbdf56bf6a423f871db85d9b25b7ba_cgraph_map" alt=""></center>
<map name="lm629_8h_89cbdf56bf6a423f871db85d9b25b7ba_cgraph_map">
<area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="163,5,309,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="0d4260799cdc0b7d43ff0bce6bc77c2a"></a><!-- doxytag: member="lm629.h::waitTrajComplete" ref="0d4260799cdc0b7d43ff0bce6bc77c2a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void waitTrajComplete           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Attend la fin de la trajectoire en court. 
<p>
M√™me remarque que pour la fonction <a class="el" href="lm629_8c.html#928f6fe98ffaaa8f72282688bcc8d1cd" title="Indique si la derni√®re trajectoire est termin√©e.">isTrajComplete()</a>. <dl class="attention" compact><dt><b>Attention:</b></dt><dd>Cette fonction bloque enti√®rement le PIC durant toute la dur√©e d'attente de fin de trajectoire. Il est pr√©f√©rable d'utiliser la fonction <a class="el" href="lm629_8c.html#928f6fe98ffaaa8f72282688bcc8d1cd" title="Indique si la derni√®re trajectoire est termin√©e.">isTrajComplete()</a> pour venir v√©rifier √† intervalles r√©guliers si la trajectoire est compl√©t√©e ou non, tout en permettant au programme de tourner le reste du temps. </dd></dl>
<div class="fragment"><pre class="fragment"><a name="l00635"></a>00635                             {
<a name="l00636"></a>00636         <span class="keywordflow">while</span> (!<a class="code" href="lm629_8c.html#928f6fe98ffaaa8f72282688bcc8d1cd" title="Indique si la derni√®re trajectoire est termin√©e.">isTrajComplete</a>());
<a name="l00637"></a>00637 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_0d4260799cdc0b7d43ff0bce6bc77c2a_cgraph.png" border="0" usemap="#lm629_8h_0d4260799cdc0b7d43ff0bce6bc77c2a_cgraph_map" alt=""></center>
<map name="lm629_8h_0d4260799cdc0b7d43ff0bce6bc77c2a_cgraph_map">
<area shape="rect" href="lm629_8c.html#928f6fe98ffaaa8f72282688bcc8d1cd" title="Indique si la derni√®re trajectoire est termin√©e." alt="" coords="197,5,325,35"><area shape="rect" href="lm629_8c.html#e3ef6f2f44349bc4e6af34671b6aa4aa" title="Lire un bit d&#39;√©tat du LM." alt="" coords="375,5,492,35"><area shape="rect" href="lm629_8c.html#87c455cfb4cbd87a3de45fd9f38a1b45" title="Lire l&#39;√©tat d&#39;un LM." alt="" coords="543,5,641,35"><area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="848,5,995,35"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="692,31,799,60"></map>
</div>

</div>
</div><p>
<a class="anchor" name="6fa7a38bcd0eeb3fb9c107702f73f516"></a><!-- doxytag: member="lm629.h::writeCommand" ref="6fa7a38bcd0eeb3fb9c107702f73f516" args="(char axis, BYTE command)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeCommand           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>axis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_generic_type_defs_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td>
          <td class="paramname"> <em>command</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Envoie une commande √†/aux LM(s). 
<p>
Il est possible d'envoyer une m√™me commande aux 2 LMs simultan√©ment.<p>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>axis</em>&nbsp;</td><td>l'axe moteur correspondant au LM √† atteindre, peut valoir : <br>
 <a class="el" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a> le moteur de droite uniquement <br>
 <a class="el" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a> le moteur de gauche uniquement <br>
 <a class="el" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a> les 2 moteurs</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>command</em>&nbsp;</td><td>la commande √† envoyer, peut valoir : <br>
 LM_CMD_* une des constante commande du LM </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><a name="l00098"></a>00098                                            {
<a name="l00099"></a>00099         <a class="code" href="union___b_y_t_e___v_a_l.html">BYTE_VAL</a> cmd = {command};
<a name="l00100"></a>00100 
<a name="l00101"></a>00101         <a class="code" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s.">waitBusyLM</a>(axis);
<a name="l00102"></a>00102         <a class="code" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e.">dataBusDirection</a>(<a class="code" href="lm629_8h.html#bfb497db759edfde127952c40722ddf3" title="Envoyer des donn√©es vers le LM.">DATA_OUT</a>);
<a name="l00103"></a>00103 
<a name="l00104"></a>00104         <span class="keywordflow">if</span> (axis == <a class="code" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a>) {
<a name="l00105"></a>00105                 <a class="code" href="lm629_8h.html#d2c0f212270a2a4cc1d35cb5e5358fa7">LM_CS1</a> = 0;
<a name="l00106"></a>00106                 <a class="code" href="lm629_8h.html#929000e38340f0ad31f92dd1eccd97ff">LM_CS2</a> = 1;
<a name="l00107"></a>00107         }
<a name="l00108"></a>00108         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (axis == <a class="code" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a>) {
<a name="l00109"></a>00109                 <a class="code" href="lm629_8h.html#d2c0f212270a2a4cc1d35cb5e5358fa7">LM_CS1</a> = 1;
<a name="l00110"></a>00110                 <a class="code" href="lm629_8h.html#929000e38340f0ad31f92dd1eccd97ff">LM_CS2</a> = 0;
<a name="l00111"></a>00111         }
<a name="l00112"></a>00112         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (axis == <a class="code" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a>) {
<a name="l00113"></a>00113                 <a class="code" href="lm629_8h.html#d2c0f212270a2a4cc1d35cb5e5358fa7">LM_CS1</a> = 0;
<a name="l00114"></a>00114                 <a class="code" href="lm629_8h.html#929000e38340f0ad31f92dd1eccd97ff">LM_CS2</a> = 0;
<a name="l00115"></a>00115         }
<a name="l00116"></a>00116 
<a name="l00117"></a>00117         <a class="code" href="lm629_8h.html#ec9c2920a09a95964e4295686d5f6479">LM_PS</a> = <a class="code" href="lm629_8h.html#e3fd2e7e29e99a5b6b5457acc1c99bec" title="Envoyer une commande.">PS_COMMAND</a>;                                     <span class="comment">// attendre au moins 30 ns avant LM_WRITE = 0</span>
<a name="l00118"></a>00118         Nop();                                                          <span class="comment">// attends 1 cycle, √† 48 MHz / 4 = 83.3 ns (&gt; 30 ns)</span>
<a name="l00119"></a>00119         <a class="code" href="lm629_8h.html#fa90442962f2177190392173e693e354">LM_WRITE</a> = 0;                                           <span class="comment">// doit rester √† 0 pendant au moins 100 ns</span>
<a name="l00120"></a>00120 
<a name="l00121"></a>00121         <a class="code" href="lm629_8h.html#409b530bd16741bc75f7516c61d6e1b8">LM_D0</a> = cmd.<a class="code" href="union___b_y_t_e___v_a_l.html#e19260ddc6341ad9d36c88c6cef29209">bits</a>.<a class="code" href="union___b_y_t_e___v_a_l.html#dfc3463e000550dc137d6c843fae8ca9">b0</a>;
<a name="l00122"></a>00122         <a class="code" href="lm629_8h.html#e0c1457c34f6e542249dffef54296771">LM_D1</a> = cmd.<a class="code" href="union___b_y_t_e___v_a_l.html#e19260ddc6341ad9d36c88c6cef29209">bits</a>.<a class="code" href="union___b_y_t_e___v_a_l.html#a98264748eaa529787556702f7e5ba7e">b1</a>;
<a name="l00123"></a>00123         <a class="code" href="lm629_8h.html#db58e342f5b0080b1463451671619452">LM_D2</a> = cmd.<a class="code" href="union___b_y_t_e___v_a_l.html#e19260ddc6341ad9d36c88c6cef29209">bits</a>.<a class="code" href="union___b_y_t_e___v_a_l.html#3859845d15eda165e2921b42febed358">b2</a>;
<a name="l00124"></a>00124         <a class="code" href="lm629_8h.html#f0633c70375e2f6968aa9a8009edeca4">LM_D3</a> = cmd.<a class="code" href="union___b_y_t_e___v_a_l.html#e19260ddc6341ad9d36c88c6cef29209">bits</a>.<a class="code" href="union___b_y_t_e___v_a_l.html#58d5041f61693591756bfd89006f9551">b3</a>;
<a name="l00125"></a>00125         <a class="code" href="lm629_8h.html#4cb00c1f7d95bafa95aae32164ec658d">LM_D4</a> = cmd.<a class="code" href="union___b_y_t_e___v_a_l.html#e19260ddc6341ad9d36c88c6cef29209">bits</a>.<a class="code" href="union___b_y_t_e___v_a_l.html#46fe5fb854ee15040858cd074311f747">b4</a>;
<a name="l00126"></a>00126         <a class="code" href="lm629_8h.html#ecd9cbaf0facf83921a39e3f5224459d">LM_D5</a> = cmd.<a class="code" href="union___b_y_t_e___v_a_l.html#e19260ddc6341ad9d36c88c6cef29209">bits</a>.<a class="code" href="union___b_y_t_e___v_a_l.html#88fbd2bf174801ac7c2a3e14198d06f4">b5</a>;
<a name="l00127"></a>00127         <a class="code" href="lm629_8h.html#14045dd11badb03089fdf89bcecb4e9d">LM_D6</a> = cmd.<a class="code" href="union___b_y_t_e___v_a_l.html#e19260ddc6341ad9d36c88c6cef29209">bits</a>.<a class="code" href="union___b_y_t_e___v_a_l.html#da25eec4b3fa53686c8943c1513688df">b6</a>;
<a name="l00128"></a>00128         <a class="code" href="lm629_8h.html#e17f35f8b23f07e2f9c827cb7e1c33a0">LM_D7</a> = cmd.<a class="code" href="union___b_y_t_e___v_a_l.html#e19260ddc6341ad9d36c88c6cef29209">bits</a>.<a class="code" href="union___b_y_t_e___v_a_l.html#60220f7aaf248081cf6e4476e1ecc4f3">b7</a>;                            <span class="comment">// attendre au moins 50 ns avant LM_WRITE = 1</span>
<a name="l00129"></a>00129 
<a name="l00130"></a>00130         Nop(); Nop();                                           <span class="comment">// attends 2 cycles, √† 48 MHz / 4 = 166 ns (&gt; 100 ns + 50 ns)</span>
<a name="l00131"></a>00131         <a class="code" href="lm629_8h.html#fa90442962f2177190392173e693e354">LM_WRITE</a> = 1;                                           <span class="comment">// attendre au moins 30 ns avant LM_PS = PS_DATA + attendre au moins 120 ns avant de changer les donn√©es</span>
<a name="l00132"></a>00132         Nop(); Nop();                                           <span class="comment">// attends 2 cycles, √† 48 MHz / 4 = 166 ns (&gt; 120 ns)</span>
<a name="l00133"></a>00133 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_6fa7a38bcd0eeb3fb9c107702f73f516_cgraph.png" border="0" usemap="#lm629_8h_6fa7a38bcd0eeb3fb9c107702f73f516_cgraph_map" alt=""></center>
<map name="lm629_8h_6fa7a38bcd0eeb3fb9c107702f73f516_cgraph_map">
<area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="341,5,488,35"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="185,31,292,60"></map>
</div>

</div>
</div><p>
<a class="anchor" name="151178ea603ed04beaa1ba4151496878"></a><!-- doxytag: member="lm629.h::writeDataWord" ref="151178ea603ed04beaa1ba4151496878" args="(char axis, WORD data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeDataWord           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>axis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_generic_type_defs_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Envoie un mot au LM (un mot = 2 octets = 16 bits). 
<p>
Il est possible d'envoyer un m√™me mot aux 2 LMs simultan√©ment.<p>
<dl compact><dt><b>Param√®tres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>axis</em>&nbsp;</td><td>l'axe moteur correspondant au LM √† atteindre, peut valoir : <br>
 <a class="el" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a> le moteur de droite uniquement <br>
 <a class="el" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a> le moteur de gauche uniquement <br>
 <a class="el" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a> les 2 moteurs</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>word</em>&nbsp;</td><td>le mot √† envoyer, sur 16 bits </td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><a name="l00146"></a>00146                                          {
<a name="l00147"></a>00147         <a class="code" href="union___w_o_r_d___v_a_l.html">WORD_VAL</a> word = {data};
<a name="l00148"></a>00148 
<a name="l00149"></a>00149         <a class="code" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s.">waitBusyLM</a>(axis);
<a name="l00150"></a>00150         <a class="code" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e.">dataBusDirection</a>(<a class="code" href="lm629_8h.html#bfb497db759edfde127952c40722ddf3" title="Envoyer des donn√©es vers le LM.">DATA_OUT</a>);
<a name="l00151"></a>00151 
<a name="l00152"></a>00152         <span class="keywordflow">if</span> (axis == <a class="code" href="motor_8h.html#9eff471d17bc68f18b14ff75f23aa3bc" title="S√©lection du moteur de droite (moteur 1).">MOTOR_RIGHT</a>) {
<a name="l00153"></a>00153                 <a class="code" href="lm629_8h.html#d2c0f212270a2a4cc1d35cb5e5358fa7">LM_CS1</a> = 0;
<a name="l00154"></a>00154                 <a class="code" href="lm629_8h.html#929000e38340f0ad31f92dd1eccd97ff">LM_CS2</a> = 1;
<a name="l00155"></a>00155         }
<a name="l00156"></a>00156         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (axis == <a class="code" href="motor_8h.html#0e2d750df9008232cafa398d2424b778" title="S√©lection du moteur de gauche (moteur 2).">MOTOR_LEFT</a>) {
<a name="l00157"></a>00157                 <a class="code" href="lm629_8h.html#d2c0f212270a2a4cc1d35cb5e5358fa7">LM_CS1</a> = 1;
<a name="l00158"></a>00158                 <a class="code" href="lm629_8h.html#929000e38340f0ad31f92dd1eccd97ff">LM_CS2</a> = 0;
<a name="l00159"></a>00159         }
<a name="l00160"></a>00160         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (axis == <a class="code" href="motor_8h.html#327dd27b4e08cc7c38cb5d48d55dac7c" title="S√©lection des 2 moteurs simultan√©ment.">MOTOR_BOTH</a>) {
<a name="l00161"></a>00161                 <a class="code" href="lm629_8h.html#d2c0f212270a2a4cc1d35cb5e5358fa7">LM_CS1</a> = 0;
<a name="l00162"></a>00162                 <a class="code" href="lm629_8h.html#929000e38340f0ad31f92dd1eccd97ff">LM_CS2</a> = 0;
<a name="l00163"></a>00163         }
<a name="l00164"></a>00164 
<a name="l00165"></a>00165         <a class="code" href="lm629_8h.html#ec9c2920a09a95964e4295686d5f6479">LM_PS</a> = <a class="code" href="lm629_8h.html#de83aa8327ccb5370aa5b24b1cb48973" title="Envoyer des donn√©es.">PS_DATA</a>;                                        <span class="comment">// attendre au moins 30 ns avant LM_WRITE = 0</span>
<a name="l00166"></a>00166         Nop();                                                          <span class="comment">// attends 1 cycle, √† 48 MHz / 4 = 83.3 ns (&gt; 30 ns)</span>
<a name="l00167"></a>00167         <a class="code" href="lm629_8h.html#fa90442962f2177190392173e693e354">LM_WRITE</a> = 0;                                           <span class="comment">// doit rester √† 0 pendant au moins 100 ns</span>
<a name="l00168"></a>00168 
<a name="l00169"></a>00169         <span class="comment">// On transfert l'octet de poids fort en premier</span>
<a name="l00170"></a>00170         <a class="code" href="lm629_8h.html#409b530bd16741bc75f7516c61d6e1b8">LM_D0</a> = word.<a class="code" href="union___w_o_r_d___v_a_l.html#6c9b51cab989c1ff6f75df0ea21400d8">bits</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#e322f2039328377b564663b2a91b8923">b8</a>;
<a name="l00171"></a>00171         <a class="code" href="lm629_8h.html#e0c1457c34f6e542249dffef54296771">LM_D1</a> = word.<a class="code" href="union___w_o_r_d___v_a_l.html#6c9b51cab989c1ff6f75df0ea21400d8">bits</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#3183066a4a5cdada55336ad5d6a7637b">b9</a>;
<a name="l00172"></a>00172         <a class="code" href="lm629_8h.html#db58e342f5b0080b1463451671619452">LM_D2</a> = word.<a class="code" href="union___w_o_r_d___v_a_l.html#6c9b51cab989c1ff6f75df0ea21400d8">bits</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#51b4a6a3fc052e4e18551a229d74104a">b10</a>;
<a name="l00173"></a>00173         <a class="code" href="lm629_8h.html#f0633c70375e2f6968aa9a8009edeca4">LM_D3</a> = word.<a class="code" href="union___w_o_r_d___v_a_l.html#6c9b51cab989c1ff6f75df0ea21400d8">bits</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#ed3264e8cef619c077bd51e54f8e8247">b11</a>;
<a name="l00174"></a>00174         <a class="code" href="lm629_8h.html#4cb00c1f7d95bafa95aae32164ec658d">LM_D4</a> = word.<a class="code" href="union___w_o_r_d___v_a_l.html#6c9b51cab989c1ff6f75df0ea21400d8">bits</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#4f11e54b4739f3a36697add7239213ac">b12</a>;
<a name="l00175"></a>00175         <a class="code" href="lm629_8h.html#ecd9cbaf0facf83921a39e3f5224459d">LM_D5</a> = word.<a class="code" href="union___w_o_r_d___v_a_l.html#6c9b51cab989c1ff6f75df0ea21400d8">bits</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#8351b58d43fd5f1cf8a899b5c3f86cc3">b13</a>;
<a name="l00176"></a>00176         <a class="code" href="lm629_8h.html#14045dd11badb03089fdf89bcecb4e9d">LM_D6</a> = word.<a class="code" href="union___w_o_r_d___v_a_l.html#6c9b51cab989c1ff6f75df0ea21400d8">bits</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#1c39a273a020342a48b3b72c91f0bf60">b14</a>;
<a name="l00177"></a>00177         <a class="code" href="lm629_8h.html#e17f35f8b23f07e2f9c827cb7e1c33a0">LM_D7</a> = word.<a class="code" href="union___w_o_r_d___v_a_l.html#6c9b51cab989c1ff6f75df0ea21400d8">bits</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#e383c4b1f9c1bdb7ccb8ca77f6b1f6b3">b15</a>;                          <span class="comment">// attendre au moins 50 ns avant LM_WRITE = 1</span>
<a name="l00178"></a>00178 
<a name="l00179"></a>00179         Nop(); Nop();                                           <span class="comment">// attends 2 cycles, √† 48 MHz / 4 = 166 ns (&gt; 100 ns + 50 ns)</span>
<a name="l00180"></a>00180         <a class="code" href="lm629_8h.html#fa90442962f2177190392173e693e354">LM_WRITE</a> = 1;                                           <span class="comment">// attendre au moins 120 ns avant LM_WRITE = 0</span>
<a name="l00181"></a>00181         Nop(); Nop();                                           <span class="comment">// attends 2 cycles, √† 48 MHz / 4 = 166 ns (&gt; 120 ns)</span>
<a name="l00182"></a>00182         <a class="code" href="lm629_8h.html#fa90442962f2177190392173e693e354">LM_WRITE</a> = 0;                                           <span class="comment">// doit rester √† 0 pendant au moins 100 ns</span>
<a name="l00183"></a>00183 
<a name="l00184"></a>00184         <span class="comment">// On transfert l'octet de poids faible en second</span>
<a name="l00185"></a>00185         <a class="code" href="lm629_8h.html#409b530bd16741bc75f7516c61d6e1b8">LM_D0</a> = word.<a class="code" href="union___w_o_r_d___v_a_l.html#6c9b51cab989c1ff6f75df0ea21400d8">bits</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#ca395247f98b217aa47606ebc9e4ece5">b0</a>;
<a name="l00186"></a>00186         <a class="code" href="lm629_8h.html#e0c1457c34f6e542249dffef54296771">LM_D1</a> = word.<a class="code" href="union___w_o_r_d___v_a_l.html#6c9b51cab989c1ff6f75df0ea21400d8">bits</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#ac719f227481ce215d17c0aa01dc3489">b1</a>;
<a name="l00187"></a>00187         <a class="code" href="lm629_8h.html#db58e342f5b0080b1463451671619452">LM_D2</a> = word.<a class="code" href="union___w_o_r_d___v_a_l.html#6c9b51cab989c1ff6f75df0ea21400d8">bits</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#0800a0353cb700029d8948c2a6eed9ce">b2</a>;
<a name="l00188"></a>00188         <a class="code" href="lm629_8h.html#f0633c70375e2f6968aa9a8009edeca4">LM_D3</a> = word.<a class="code" href="union___w_o_r_d___v_a_l.html#6c9b51cab989c1ff6f75df0ea21400d8">bits</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#22ab538f4c1104a386e03ca814829931">b3</a>;
<a name="l00189"></a>00189         <a class="code" href="lm629_8h.html#4cb00c1f7d95bafa95aae32164ec658d">LM_D4</a> = word.<a class="code" href="union___w_o_r_d___v_a_l.html#6c9b51cab989c1ff6f75df0ea21400d8">bits</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#7b2fb071625983d4cedbb99d4e09bad3">b4</a>;
<a name="l00190"></a>00190         <a class="code" href="lm629_8h.html#ecd9cbaf0facf83921a39e3f5224459d">LM_D5</a> = word.<a class="code" href="union___w_o_r_d___v_a_l.html#6c9b51cab989c1ff6f75df0ea21400d8">bits</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#6d8402e2dba294732cb7d087386b4701">b5</a>;
<a name="l00191"></a>00191         <a class="code" href="lm629_8h.html#14045dd11badb03089fdf89bcecb4e9d">LM_D6</a> = word.<a class="code" href="union___w_o_r_d___v_a_l.html#6c9b51cab989c1ff6f75df0ea21400d8">bits</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#2d6ca3daaad6f21f492b8fb494a79f48">b6</a>;
<a name="l00192"></a>00192         <a class="code" href="lm629_8h.html#e17f35f8b23f07e2f9c827cb7e1c33a0">LM_D7</a> = word.<a class="code" href="union___w_o_r_d___v_a_l.html#6c9b51cab989c1ff6f75df0ea21400d8">bits</a>.<a class="code" href="union___w_o_r_d___v_a_l.html#eaf069f1cad00a2940ff59af8d6937e4">b7</a>;                           <span class="comment">// attendre au moins 50 ns avant LM_WRITE = 1</span>
<a name="l00193"></a>00193 
<a name="l00194"></a>00194         Nop(); Nop();                                           <span class="comment">// attends 2 cycles, √† 48 MHz / 4 = 166 ns (&gt; 100 ns + 50 ns)</span>
<a name="l00195"></a>00195         <a class="code" href="lm629_8h.html#fa90442962f2177190392173e693e354">LM_WRITE</a> = 1;                                           <span class="comment">// attendre au moins 120 ns avant de changer les donn√©es</span>
<a name="l00196"></a>00196         Nop(); Nop();                                           <span class="comment">// attends 2 cycles, √† 48 MHz / 4 = 166 ns (&gt; 120 ns)</span>
<a name="l00197"></a>00197 }
</pre></div>
<p>

<p>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dynsection">
<p><center><img src="lm629_8h_151178ea603ed04beaa1ba4151496878_cgraph.png" border="0" usemap="#lm629_8h_151178ea603ed04beaa1ba4151496878_cgraph_map" alt=""></center>
<map name="lm629_8h_151178ea603ed04beaa1ba4151496878_cgraph_map">
<area shape="rect" href="lm629_8c.html#6c314f24d23be4191ad86293c9a5fecc" title="Change la direction du BUS de donn√©e." alt="" coords="341,5,488,35"><area shape="rect" href="lm629_8c.html#89cbdf56bf6a423f871db85d9b25b7ba" title="Attends que le ou les LM(s) ne soient plus occup√©s." alt="" coords="185,31,292,60"></map>
</div>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>G√©n√©r√© le Sat Feb 14 20:04:54 2009 pour Carte d'asservissement (bi) par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
